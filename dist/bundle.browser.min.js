/*!
 * This bundle contains the following packages:
 * └─ @mapcreator/maps4news (1.4.43) ── BSD 3-clause "New" or "Revised" License (http://www.opensource.org/licenses/BSD-3-Clause) ── package.json
 *    ├─ case (1.5.5) ── MIT (http://www.opensource.org/licenses/mit-license.php), GPL (http://www.gnu.org/licenses/gpl.html) ── node_modules/case/package.json
 *    ├─ fetch-ponyfill (6.0.2) ── MIT License (http://www.opensource.org/licenses/MIT) ── node_modules/fetch-ponyfill/package.json
 *    │  └─ node-fetch (2.1.2) ── MIT License (http://www.opensource.org/licenses/MIT) ── node_modules/node-fetch/package.json
 *    ├─ formdata-polyfill (3.0.12) ── MIT License (http://www.opensource.org/licenses/MIT) ── node_modules/formdata-polyfill/package.json
 *    ├─ json-stable-stringify (1.0.1) ── MIT License (http://www.opensource.org/licenses/MIT) ── node_modules/json-stable-stringify/package.json
 *    │  └─ jsonify (0.0.0) ── public domain ── node_modules/jsonify/package.json
 *    └─ mitt (1.1.3) ── MIT License (http://www.opensource.org/licenses/MIT) ── node_modules/mitt/package.json
 * 
 */
/*!
 * BSD 3-Clause License
 * 
 * Copyright (c) 2017, MapCreator
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * hash:8cd0827ec40be3f9155e, chunkhash:e53ffaab61d6332c2c49, name:bundle.browser.min, version:v1.4.43
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.maps4news=e():t.maps4news=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=94)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(11),i=n(15);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(77);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"isParentOf",function(){return y}),n.d(e,"getTypeName",function(){return v}),n.d(e,"mix",function(){return _}),n.d(e,"hasTrait",function(){return m});var r=n(3),i=n.n(r),o=n(2),a=n.n(o),u=n(4),s=n.n(u),c=n(15),f=n.n(c),l=n(0),h=n.n(l),p=n(34),d=n(35);function y(t,e){if(null==t||null==e)return!1;t="function"==typeof t?t:t.constructor,e="function"==typeof e?e:e.constructor;do{if(e.name===t.name)return!0;e=Object.getPrototypeOf(e)}while(""!==e.name);return!1}function v(t){return(t="function"==typeof t?t:t.constructor).name}var g=function t(){h()(this,t)};function _(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var o=function(t){function e(){var t,r;h()(this,e);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return r=i()(this,(t=a()(e)).call.apply(t,[this].concat(u))),n.map(function(t){return t.prototype.initializer}).filter(function(t){return"function"==typeof t}).forEach(function(t){return t.call(f()(f()(r)))}),r}return s()(e,t),e}(t||g),u=0;u<n.length;u++){var c=n[u];if(!y(p.default,c))throw new TypeError("Expected mixin to implement Trait for ".concat(c.name));b(o.prototype,c.prototype),b(o,c)}o.__mixins=n;var l=Object(d.fnv32b)(n.map(function(t){return t.name}).join(","));return Object.defineProperty(o,"name",{value:"Cocktail_".concat(l)}),o}function b(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(n){n.match(/^(?:constructor|initializer|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function m(t,e){t="function"==typeof t?t:t.constructor;do{if(Array.isArray(t.__mixins)&&t.__mixins.includes(e))return!0;t=Object.getPrototypeOf(t)}while(""!==t.name);return!1}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(10),d=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(this,e),(n=s()(this,f()(e).call(this,t,r))).constructor===e)throw new p.AbstractClassError;return n}return h()(e,t),a()(e,[{key:"_buildCreateData",value:function(){this._updateProperties();var t={},e=[].concat(Object.keys(this._properties),Object.keys(this._baseProperties)).filter(function(t,e,n){return n.indexOf(t)===e}),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t[u]=this._properties[u]||this._baseProperties[u]}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return delete t.id,t}},{key:"save",value:function(){return this.id?this._update():this._create()}},{key:"_create",value:function(){var t=this;return this.api.request(this.baseUrl,"POST",this._buildCreateData()).then(function(e){return t._properties={},t._baseProperties=e,t._updateProperties(),t})}},{key:"_update",value:function(){var t=this;return this._updateProperties(),0===Object.keys(this._properties).length?new Promise(function(e){return e(t)}):this.api.request(this.url,"PATCH",this._properties).then(function(){return t.api.defaults.autoUpdateSharedCache&&t.api.cache.update(t),t})}},{key:"delete",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.api.request(this.url,"DELETE").then(function(n){return e&&(t._baseProperties.deleted_at=new Date),n})}},{key:"restore",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.api.request(this.url,"PUT").then(function(n){var r=new t.constructor(t.api,n);return e&&(t._properties={},t._baseProperties=n,t._updateProperties()),r})}}]),e}(n(8).default)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(8),d=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"choropleths"}}]),e}(p.default),y=n(41),v=n(59),g=n(60),_=n(42),b=n(61),m=n(6),w=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"faqs"}}]),e}(m.default),k=n(43),x=n(62),O=n(44),E=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"highlights"}}]),e}(p.default),j=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"inset-maps"}}]),e}(p.default),P=n(45),T=n(56),S=n(31),R=n(63),A=n(29),N=n(46),L=n(67),C=n(32),D=n(64),U=n(47),I=n(68),M=n(53),F=n(50),B=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"place-names"}}]),e}(p.default),q=n(69),H=n(65),W=n(48),J=n(66),K=n(49),G=n(28);n.d(e,"base",function(){return Y}),n.d(e,"Choropleth",function(){return d}),n.d(e,"Color",function(){return y.default}),n.d(e,"Contract",function(){return v.default}),n.d(e,"Dimension",function(){return g.default}),n.d(e,"DimensionSet",function(){return _.default}),n.d(e,"Domain",function(){return b.default}),n.d(e,"Faq",function(){return w}),n.d(e,"Feature",function(){return k.default}),n.d(e,"Font",function(){return x.default}),n.d(e,"FontFamily",function(){return O.default}),n.d(e,"Highlight",function(){return E}),n.d(e,"InsetMap",function(){return j}),n.d(e,"Job",function(){return P.default}),n.d(e,"JobMonitorRow",function(){return T.default}),n.d(e,"JobResult",function(){return S.default}),n.d(e,"JobRevision",function(){return R.default}),n.d(e,"JobShare",function(){return A.default}),n.d(e,"JobType",function(){return N.default}),n.d(e,"Language",function(){return L.default}),n.d(e,"Layer",function(){return C.default}),n.d(e,"Mapstyle",function(){return D.default}),n.d(e,"MapstyleSet",function(){return U.default}),n.d(e,"Notification",function(){return I.default}),n.d(e,"Organisation",function(){return M.default}),n.d(e,"Permission",function(){return F.default}),n.d(e,"PlaceName",function(){return B}),n.d(e,"Role",function(){return q.default}),n.d(e,"Svg",function(){return H.default}),n.d(e,"SvgSet",function(){return W.default}),n.d(e,"Tag",function(){return J.default}),n.d(e,"User",function(){return K.default});var Y={CrudBase:m.default,CrudSetBase:G.default,ResourceBase:p.default}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return w});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(15),d=n.n(p),y=n(12),v=n(10),g=n(23),_=n(30),b=n(74),m=n(5);var w=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(this,e),(n=s()(this,f()(e).call(this))).constructor===e)throw new v.AbstractClassError;if(!Object(m.isParentOf)(g.default,t))throw new TypeError("Expected api to be of type Maps4News");for(var o=Object.keys(r),a=0;a<o.length;a++){var u=o[a],c=Object(y.snake)(u);r[c]=n.constructor._guessType(c,r[u]),c!==u&&delete r[u]}n._baseProperties=r||{},n._properties={},n._api=t;for(var l=Object.keys(n._baseProperties),h=0;h<l.length;h++){var p=l[h];n._applyProperty(p)}return l.includes("deleted_at")&&Object.defineProperty(d()(d()(n)),"deleted",{enumerable:!0,configurable:!0,get:function(){return Boolean(n.deletedAt)}}),n._knownFields=Object.keys(d()(d()(n))).filter(function(t){return"_"!==t[0]}),n}return h()(e,t),a()(e,[{key:"_updateProperties",value:function(){var t=this,e=Object.keys(this).filter(function(t){return"_"!==t[0]}).filter(function(e){return!t._knownFields.includes(e)}),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=Object(y.snake)(u);this._properties[s]=this[u],delete this[u],this._applyProperty(s),this._knownFields.push(s)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}e=Object.keys(this._baseProperties).filter(function(e){return!t._knownFields.includes(Object(y.camel)(e))});var c=!0,f=!1,l=void 0;try{for(var h,p=e[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var d=h.value;this._applyProperty(d),this._knownFields.push(d)}}catch(t){f=!0,l=t}finally{try{c||null==p.return||p.return()}finally{if(f)throw l}}this._knownFields=function(t){return t.filter(function(e,n){return t.findIndex(function(t){return t===e})===n})}(this._knownFields)}},{key:"sanitize",value:function(){this._updateProperties(),Object.assign(this._baseProperties,this._properties),this._properties={}}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._updateProperties(),"string"==typeof e?this.reset([e]):null===e?this._properties={}:Array.isArray(e)&&e.map(String).map(y.snake).forEach(function(e){return delete t._properties[e]})}},{key:"clone",value:function(){this._updateProperties();for(var t=new this.constructor(this.api,this._baseProperties),e=Object.keys(this._properties),n=0;n<e.length;n++){var r=e[n];t[r]=this._properties[r]}return t}},{key:"refresh",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._api.request(this.url).then(function(n){return e&&(t._properties={},t._baseProperties=n,t._updateProperties()),new t.constructor(t._api,n)})}},{key:"_applyProperty",value:function(t){var n=this,r={enumerable:!0,configurable:!0,get:function(){return n._properties.hasOwnProperty(t)?n._properties[t]:n._baseProperties[t]}};this._protectedFields.includes(t)||this.constructor.readonly||(r.set=function(r){n._properties[t]=e._guessType(t,r),delete n._url});var i=Object(y.camel)(t);Object.defineProperty(this,i,r)}},{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this[this.resourceUrlKey],")")}},{key:"toObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._updateProperties();var e=Object.assign({},this._baseProperties,this._properties);if(t)for(var n in Object.keys(e)){var r=Object(y.camel)(n);n!==r&&(e[r]=e[n],delete e[n])}return e}},{key:"_proxyResourceList",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e){var r=t.resourceName.replace(/s+$/,"");e="".concat(this.url,"/").concat(r,"s")}return new _.default(this.api,t,e,n)}},{key:"api",get:function(){return this._api}},{key:"resourcePath",get:function(){return"/".concat(this.constructor.resourceName,"/{id}")}},{key:"_protectedFields",get:function(){return["id","created_at","updated_at","deleted_at"]}},{key:"ownable",get:function(){return!1}},{key:"url",get:function(){var t=this;if(!this._url){var e="".concat(this._api.host,"/").concat(this._api.version).concat(this.resourcePath);e=e.replace(/{(\w+)}/g,function(e,n){return t[Object(y.camel)(n)]}),this._url=e}return this._url}},{key:"baseUrl",get:function(){var t=this.resourcePath.match(/^(\/[^{]+\b)/)[1];return"".concat(this._api.host,"/").concat(this._api.version).concat(t)}},{key:"fieldNames",get:function(){return Object.keys(this._baseProperties).map(y.camel)}}],[{key:"_guessType",value:function(t,e){var n=/(?:^|_)([^_$]+)$/g.exec(t);if(null===n||"string"!=typeof e)return e;switch(n[1]){case"end":case"start":case"at":return new Date(e.replace(" ","T"));case"id":return["last","me","mine"].includes(String(e).toLowerCase())?e:Number(e);default:return e}}},{key:"resourceName",get:function(){throw new v.AbstractError}},{key:"resourceUrlKey",get:function(){return"id"}},{key:"readonly",get:function(){return!1}}]),e}(Object(m.mix)(null,b.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"fetch",function(){return l}),n.d(e,"Request",function(){return h}),n.d(e,"Response",function(){return p}),n.d(e,"Headers",function(){return d}),n.d(e,"FormData",function(){return y}),n.d(e,"encodeQueryString",function(){return v}),n.d(e,"downloadFile",function(){return g});var r=n(11),i=n.n(r),o=n(80),a=n.n(o),u=n(22),s=n(55),c=n(14),f=Object(s.windowTest)("fetch")?window:a()({Promise:Promise}),l=f.fetch,h=f.Request,p=f.Response,d=f.Headers;var y=Object(s.windowTest)("FormData")?window.FormData:Object(c.isNode)()?null:n(92);function v(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).sort().map(function(r){var o=n.slice(0);if("object"===i()(e[r])&&null!==e[r])return o.push(r),t(e[r],o);o.push(r);var a="";a+=encodeURIComponent(o.shift()),a+=o.map(function(t){return"[".concat(encodeURIComponent(t),"]")}).join("");var u=e[r];return null!==u&&void 0!==u&&(a+="="+encodeURIComponent(u)),a}).join("&")}(t).replace(/^&*|&+(?=&)|&*$/g,"")}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return l(t,{headers:e}).then(function(t){if(t.ok){var e=t.headers.get("Content-Disposition");if(e&&-1!==e.indexOf("attachment")){var r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e);null!=r&&r[1]&&(n.filename=r[1].replace(/['"]/g,""))}else n.filename="Unknown Filename.zip";return t.blob()}return t.json().then(function(e){var n=e.error;throw new u.default(n.type,n.message,t.status,n.trace)})}).then(function(t){return n.blob=(window.URL||window.webkitURL).createObjectURL(t),n})}},function(t,e,n){"use strict";n.r(e),n.d(e,"AbstractError",function(){return h}),n.d(e,"AbstractClassError",function(){return p}),n.d(e,"AbstractMethodError",function(){return d});var r=n(0),i=n.n(r),o=n(3),a=n.n(o),u=n(2),s=n.n(u),c=n(4),f=n.n(c),l=n(27),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unimplemented";return i()(this,e),a()(this,s()(e).call(this,t))}return f()(e,t),e}(n.n(l)()(Error)),p=function(t){function e(){return i()(this,e),a()(this,s()(e).call(this,"Can not make an instance of an abstract class"))}return f()(e,t),e}(h),d=function(t){function e(){return i()(this,e),a()(this,s()(e).call(this,"Can not call an abstract method"))}return f()(e,t),e}(h)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){
/*! Case - v1.5.5 - 2018-05-04
* Copyright (c) 2018 Nathan Bubna; Licensed MIT, GPL */
(function(){"use strict";var e=function(t,e){return e=e||"",t.replace(/(^|-)/g,"$1\\u"+e).replace(/,/g,"\\u"+e)},n=e("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),r="a-z"+e("DF-F6,F8-FF","00"),i="A-Z"+e("C0-D6,D8-DE","00"),o=function(t,e,o,a){return t=t||n,e=e||r,o=o||i,a=a||"A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",{capitalize:new RegExp("(^|["+t+"])(["+e+"])","g"),pascal:new RegExp("(^|["+t+"])+(["+e+o+"])","g"),fill:new RegExp("["+t+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+e+"])","g"),improper:new RegExp("\\b("+a+")\\b","g"),relax:new RegExp("([^"+o+"])(["+o+"]*)(["+o+"])(?=[^"+o+"]|$)","g"),upper:new RegExp("^[^"+e+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+t+"]")}},a=o(),u={re:a,unicodes:e,regexps:o,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(t){return u.up.call(t.charAt(0))+t.slice(1)},decap:function(t){return u.low.call(t.charAt(0))+t.slice(1)},deapostrophe:function(t){return t.replace(a.apostrophe,"")},fill:function(t,e,n){return null!=e&&(t=t.replace(a.fill,function(t,n){return n?e+n:""})),n&&(t=u.deapostrophe(t)),t},prep:function(t,e,n,r){if(t=null==t?"":t+"",!r&&a.upper.test(t)&&(t=u.low.call(t)),!e&&!a.hole.test(t)){var i=u.fill(t," ");a.hole.test(i)&&(t=i)}return n||a.room.test(t)||(t=t.replace(a.relax,u.relax)),t},relax:function(t,e,n,r){return e+" "+(n?n+" ":"")+r}},s={_:u,of:function(t){for(var e=0,n=u.types.length;e<n;e++)if(s[u.types[e]].apply(s,arguments)===t)return u.types[e]},flip:function(t){return t.replace(/\w/g,function(t){return(t==u.up.call(t)?u.low:u.up).call(t)})},random:function(t){return t.replace(/\w/g,function(t){return(Math.round(Math.random())?u.up:u.low).call(t)})},type:function(t,e){s[t]=e,u.types.push(t)}},c={lower:function(t,e,n){return u.fill(u.low.call(u.prep(t,e)),e,n)},snake:function(t){return s.lower(t,"_",!0)},constant:function(t){return s.upper(t,"_",!0)},camel:function(t){return u.decap(s.pascal(t))},kebab:function(t){return s.lower(t,"-",!0)},upper:function(t,e,n){return u.fill(u.up.call(u.prep(t,e,!1,!0)),e,n)},capital:function(t,e,n){return u.fill(u.prep(t).replace(a.capitalize,function(t,e,n){return e+u.up.call(n)}),e,n)},header:function(t){return s.capital(t,"-",!0)},pascal:function(t){return u.fill(u.prep(t,!1,!0).replace(a.pascal,function(t,e,n){return u.up.call(n)}),"",!0)},title:function(t){return s.capital(t).replace(a.improper,function(t,e,n,r){return n>0&&n<r.lastIndexOf(" ")?u.low.call(t):t})},sentence:function(t,e){return t=s.lower(t).replace(a.sentence,function(t,e,n){return e+u.up.call(n)}),e&&e.forEach(function(e){t=t.replace(new RegExp("\\b"+s.lower(e)+"\\b","g"),u.cap)}),t}};for(var f in c.squish=c.pascal,c)s.type(f,c[f]);var l="function"==typeof l?l:function(){};l("object"==typeof t&&t.exports?t.exports=s:this.Case=s)}).call(this)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(5),d=function(t){function e(t,r){var o;i()(this,e);var a=n(53).default;return(o=s()(this,f()(e).call(this,t,a,"".concat(r.url,"/organisations"),{})))._parent=r,o}return h()(e,t),a()(e,[{key:"sync",value:function(t){return this._modifyLink(t,"PATCH",this.Target)}},{key:"attach",value:function(t){return this._modifyLink(t,"POST",this.Target)}},{key:"detach",value:function(t){return this._modifyLink(t,"DELETE",this.Target)}},{key:"attachAll",value:function(){var t=this.baseUrl+"/all";return this.api.request(t,"POST")}},{key:"detachAll",value:function(){var t=this.baseUrl+"/all";return this.api.request(t,"DELETE")}},{key:"_modifyLink",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!r){var i=n.resourceName.replace(/s+$/,"");r="".concat(i,"s")}if(!(0===t.filter(function(t){return!Object(p.isParentOf)(n,t)&&!Object(p.isParentOf)(Number,t)}).length))throw new TypeError('Array must contain either Numbers (resource id) or "'.concat(n.name,'".'));var o=t.map(function(t){return"number"==typeof t?t:t.id}).map(Number);return this.api.request("".concat(this.parent.url,"/").concat(r),e,{keys:o})}},{key:"parent",get:function(){return this._parent}}]),e}(n(30).default),y=n(34);n.d(e,"default",function(){return v});var v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"organisations",get:function(){return new d(this.api,this)}},{key:"ownable",get:function(){return!0}}]),e}(y.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"isNode",function(){return o});var r=n(11),i=n.n(r);function o(){return"undefined"==typeof window&&"undefined"!=typeof global||"object"===("undefined"==typeof process?"undefined":i()(process))&&"object"===i()(process.env)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n(11),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),c=n(3),f=n.n(c),l=n(2),h=n.n(l),p=n(4),d=n.n(p),y=function(t){function e(t,n,r){a()(this,e);var i=r.resourceName.replace(/s+$/,""),o="".concat(n.url,"/").concat(i,"s");return f()(this,h()(e).call(this,t,r,o))}return d()(e,t),s()(e,[{key:"sync",value:function(t){return this._modifyResourceLink(t,"PATCH")}},{key:"attach",value:function(t){return this._modifyResourceLink(t,"POST")}},{key:"detach",value:function(t){return this._modifyResourceLink(t,"DELETE")}},{key:"attachAll",value:function(){var t=this.baseUrl+"/all";return this.api.request(t,"POST")}},{key:"detachAll",value:function(){var t=this.baseUrl+"/all";return this.api.request(t,"DELETE")}},{key:"_modifyResourceLink",value:function(t,e){t instanceof Array||(t=[t]);var n=t.map(function(t){return"object"===i()(t)&&t.id?t.id:t}).map(Number).filter(function(t){return!Number.isNaN(t)});if(0===!n.length)throw new TypeError("Expected items to be of type Array<ResourceBase>, Array<number>, ResourceBase or number}");return this.api.request(this.baseUrl,e,{keys:n})}}]),e}(n(30).default)},function(t,e,n){"use strict";var r=n(25),i=new r.default({ALL:"all",BOTH:"all",NONE:"none",ONLY:"only"}),o=new r.default({QUEUED:"queued",PROCESSING:"processing",COMPLETED:"completed",CANCEL:"canceled",FAILED:"failed"}),a=new r.default(Object.assign({},o,{DEFAULT:"default"}));n.d(e,"Enum",function(){return r.default}),n.d(e,"DeletedState",function(){return i}),n.d(e,"JobMonitorFilter",function(){return a}),n.d(e,"ResultStatus",function(){return o})},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(51),d=n(14),y=n(36),v=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_m4n_";return i()(this,e),(t=s()(this,f()(e).call(this))).__prefix=n,t}return h()(e,t),a()(e,[{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date("2050-01-01");t=encodeURIComponent(this._prefix+t),n=encodeURIComponent(n),r instanceof Date&&(r=r.toUTCString());var i="".concat(t,"=").concat(n,"; expires=").concat(r);e.secure&&(i+="; secure"),document.cookie=i}},{key:"get",value:function(t){return t=this._prefix+t,this._toObject()[t]}},{key:"remove",value:function(t){t=encodeURIComponent(this._prefix+t);var n="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:01 GMT");e.secure&&(n+=";secure"),document.cookie=n}},{key:"keys",value:function(){var t=new RegExp("^"+this._prefix);return Object.keys(this._toObject()).map(function(e){return e.replace(t,"")})}},{key:"_toObject",value:function(){var t=this,e={};return document.cookie.split(";").map(function(t){return t.trim().split("=").map(decodeURIComponent)}).filter(function(e){return e[0].startsWith(t._prefix)}).forEach(function(t){e[t[0]]=t[1]}),e}},{key:"_prefix",get:function(){return this.__prefix}}],[{key:"secure",get:function(){return"https:"===window.location.protocol}},{key:"available",get:function(){return!Object(d.isNode)()}}]),e}(y.default),g=n(52),_=n.n(g),b=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"set",value:function(t,e){this.constructor._data[t]=e}},{key:"get",value:function(t){return this.constructor._data[t]}},{key:"remove",value:function(t){delete this.constructor._data[t]}},{key:"keys",value:function(){return Object.keys(this.constructor._data)}}],[{key:"available",get:function(){return Object(d.isNode)()&&"test"===(process.env||{}).NODE_ENV}},{key:"secure",get:function(){return!0}}]),e}(y.default);_()(b,"_data",{});var m=n(78),w=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"set",value:function(t,n){t=e._prefix+t,window.localStorage.setItem(t,n)}},{key:"get",value:function(t){return t=e._prefix+t,window.localStorage.getItem(t)}},{key:"remove",value:function(t){t=e._prefix+t,window.localStorage.removeItem(t)}},{key:"keys",value:function(){for(var t=[],n=window.localStorage,r=e._prefix,i=0;i<n.length;i++){var o=n.key(i);o.startsWith(r)&&(o=o.replace(new RegExp("^".concat(r)),""),t.push(o))}return t}}],[{key:"_prefix",get:function(){return"_m4n_"}},{key:"available",get:function(){return!Object(d.isNode)()}}]),e}(y.default);n.d(e,"default",function(){return k});var k=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"available",get:function(){return[b,w,m.default].filter(function(t){return t.available})}},{key:"localStorage",get:function(){return new w}},{key:"cookies",get:function(){return new v}},{key:"file",get:function(){return new m.default}},{key:"dummy",get:function(){return new b}},{key:"best",get:function(){return new this.available[0]}},{key:"secure",get:function(){var t=this.available.filter(function(t){return t.secure})[0];return void 0===t?e.best:new t}}]),e}(p.default)},function(t,e,n){t.exports=n(87)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(27),d=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i()(this,e),(n=s()(this,f()(e).call(this)))._error=String(t),n._message=String(r),n}return h()(e,t),a()(e,[{key:"toString",value:function(){var t=this._error;return t.includes("_")&&(t=t.replace("_"," ").replace(/^./,function(t){return t.toUpperCase()})),this._message?"".concat(t,": ").concat(this._message):t}},{key:"message",get:function(){return this._message}},{key:"error",get:function(){return this._error}}]),e}(n.n(p)()(Error))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return w});var r=n(11),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),c=n(3),f=n.n(c),l=n(2),h=n.n(l),p=n(4),d=n.n(p),y=n(12),v=n(73),g=n(17),_=n(35),b=n(5),m=n(9),w=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,e),t=f()(this,h()(e).call(this)),e.keys().forEach(function(e){return t._resolve(e)}),t.apply(n),t}return d()(e,t),s()(e,[{key:"_resolve",value:function(t){var n="_"+t;return this[n]||((this||{})[n]=e[t]),this[n]}},{key:"_update",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="_"+t;return n=e["_validate"+Object(y.pascal)(t)](n),(this||{})[i]=n,r||(this.emit("change",[{name:t,value:n}]),this.emit("change:"+t,n)),n}},{key:"encode",value:function(){return Object(m.encodeQueryString)(this.toParameterObject())}},{key:"toObject",value:function(){var t=this;return e.keys().reduce(function(e,n){return e[Object(y.snake)(n)]=t._resolve(n),e},{})}},{key:"toParameterObject",value:function(){var t=this,n={};e.keys().forEach(function(e){"extra"!==e&&(n[Object(y.snake)(e)]=t._resolve(e))}),n.sort=n.sort.map(function(t){return Object(y.snake)(t).replace(/^_/,"-")}).join(",");for(var r=Object.keys(n.search),i=0;i<r.length;i++){var o=r[i],a=o.split(",").map(y.snake).join(",");o!==a&&(n.search[a]=n.search[o],delete n.search[o])}for(var u=Object.keys(n.search),s=0;s<u.length;s++){var c=u[s];"boolean"==typeof n.search[c]&&(n.search[c]=Number(n.search[c])),null===n.search[c]&&(n.search[c]="")}for(var f=this._resolve("extra"),l=Object.keys(f),h=0;h<l.length;h++){var p=l[h];n[p]=f[p]}return n}},{key:"copy",value:function(){return new e(this.toObject())}},{key:"token",value:function(){var t=this.toObject();return delete t.page,delete t.per_page,Object(_.hashObject)(t)}},{key:"apply",value:function(t){t instanceof e&&(t=t.toObject());for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=Object(y.camel)(o);"_"!==o[0]&&e.keys().includes(a)&&n.push({name:a,value:this._update(a,t[o],!0)})}this.emit("change",n);for(var u=0;u<n.length;u++){var s=n[u],c=s.name,f=s.value;this.emit("change:"+c,f)}return n}},{key:"page",get:function(){return this._resolve("page")},set:function(t){this._update("page",t)}},{key:"perPage",get:function(){return this._resolve("perPage")},set:function(t){this._update("perPage",t)}},{key:"offset",get:function(){return this._resolve("offset")},set:function(t){this._update("offset",t)}},{key:"search",get:function(){return this._resolve("search")},set:function(t){this._update("search",t)}},{key:"sort",get:function(){return this._resolve("sort")},set:function(t){this._update("sort",t)}},{key:"deleted",get:function(){return this._resolve("deleted")},set:function(t){this._update("deleted",t)}},{key:"extra",get:function(){return this._resolve("extra")},set:function(t){this._update("extra",t)}}],[{key:"_validatePage",value:function(t){if("number"!=typeof t)throw new TypeError("Expected page to be of type 'number' instead got '".concat(i()(t),"'"));if(t<0)throw new TypeError("Page must be a positive number");if(Number.isNaN(t)||!Number.isFinite(t))throw new TypeError("Page must be a real number");if(Math.round(t)!==t)throw new TypeError("Page must be a natural number");return Math.round(t)}},{key:"_validatePerPage",value:function(t){if("number"!=typeof t)throw new TypeError("Expected per page to be of type 'Number' instead got '".concat(Object(b.getTypeName)(t),"'"));if(t<=0)throw new TypeError("Per page must be greater than zero");if(Number.isNaN(t)||!Number.isFinite(t))throw new TypeError("Per page must be a real number");if(Math.round(t)!==t)throw new TypeError("Per page must be a natural number");return t=Math.min(e.maxPerPage,t)}},{key:"_validateOffset",value:function(t){if("number"!=typeof t)throw new TypeError("Expected offset to be of type 'Number' instead got '".concat(Object(b.getTypeName)(t),"'"));if(t<0)throw new TypeError("Offset must be a positive number");if(Number.isNaN(t)||!Number.isFinite(t))throw new TypeError("Offset must be a real number");if(Math.round(t)!==t)throw new TypeError("Offset must be a natural number");return t}},{key:"_validateMaxPerPage",value:function(t){if("number"!=typeof t)throw new TypeError("Expected page to be of type 'Number' instead got '".concat(Object(b.getTypeName)(t),"'"));if(t<1)throw new TypeError("Value must be greater or equal to 1");return t}},{key:"_validateSearch",value:function(t){if("object"!==i()(t)||Array.isArray(t))throw new TypeError('Expected value to be of type "Object" got "'.concat(Object(b.getTypeName)(t),'"'));for(var e=function(t){return"number"==typeof t?t.toString():t},n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];if(t[o=e(o)]=e(t[o]),"string"!=typeof o)throw new TypeError('Expected key to be of type "String" got "'.concat(Object(b.getTypeName)(o),'"'));if(Array.isArray(t[o]))if(t[o].length>0){var a=!0,u=!1,s=void 0;try{for(var c,f=t[o][Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var l=c.value;if(!["string","number","boolean"].includes(i()(l))&&null!==l)throw new TypeError('Expected query for "'.concat(o,'" to be of type "String", "Boolean", "Number" or "null" got "').concat(Object(b.getTypeName)(l),'"'))}}catch(t){u=!0,s=t}finally{try{a||null==f.return||f.return()}finally{if(u)throw s}}}else delete t[o];else if(null===t[o])delete t[o];else if(!["string","number","boolean"].includes(i()(t[o]))&&null!==t[o])throw new TypeError('Expected query value to be of type "String", "Boolean", "Number", "Array" or "null" got "'.concat(Object(b.getTypeName)(t[o]),'"'))}return t}},{key:"_validateSort",value:function(t){if("string"==typeof t)return this._validateSort(t.split(","));if(!(t instanceof Array))throw new TypeError('Expected sort value to be of type "Array" got "'.concat(Object(b.getTypeName)(t),'"'));return t.filter(function(t){return"string"!=typeof t}).forEach(function(t){throw new TypeError('Expected sort array values to be of type "String" got "'.concat(Object(b.getTypeName)(t),'"'))}),t}},{key:"_validateDeleted",value:function(t){if("string"!=typeof t)throw new TypeError('Expected deleted to be of type "string" got "'.concat(Object(b.getTypeName)(t),'". See: DeletedState'));t=t.toLowerCase();var e=g.DeletedState.values();if(!e.includes(t))throw new TypeError("Expected deleted to be one of ".concat(e.join(", "),", got ").concat(t));return t}},{key:"_validateExtra",value:function(t){if("object"!==i()(t))throw new TypeError("Expected extra to be of type 'object', got '".concat(Object(b.getTypeName)(t),"'"));return t}},{key:"keys",value:function(){return["page","perPage","search","sort","deleted","extra"]}},{key:"resetDefaults",value:function(){var t=!0,n=!1,r=void 0;try{for(var i,o=e.keys()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){delete e["_"+i.value]}}catch(t){n=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"page",get:function(){return e._page||1},set:function(t){e._page=e._validatePage(t)}},{key:"perPage",get:function(){return e._perPage||Number("12")||12},set:function(t){e._perPage=e._validatePerPage(t)}},{key:"offset",get:function(){return e._offset||0},set:function(t){e._offset=e._validateOffset(t)}},{key:"maxPerPage",get:function(){return e._maxPerPage||50},set:function(t){e._maxPerPage=e._validateMaxPerPage(t)}},{key:"search",get:function(){return e._search||{}},set:function(t){e._search=e._validateSearch(t)}},{key:"sort",get:function(){return e._sort||[]},set:function(t){e._sort=e._validateSort(t)}},{key:"deleted",get:function(){return e._deleted||g.DeletedState.NONE},set:function(t){e._deleted=e._validateDeleted(t)}},{key:"extra",get:function(){return e._extra||{}},set:function(t){e._extra=e._validateExtra(t)}}]),e}(v.EventEmitter)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i()(this,t),this._type=e,this._message=n,this._code=r,this._trace=[],"string"==typeof o&&(this._trace=t._parseTrace(o))}return a()(t,[{key:"toString",value:function(){return"[".concat(this._code,"] ").concat(this._type,": ").concat(this._message)}},{key:"type",get:function(){return this._type}},{key:"message",get:function(){return this._message}},{key:"code",get:function(){return this._code}},{key:"hasTrace",get:function(){return this._trace.length>0}},{key:"trace",get:function(){return this._trace}}],[{key:"_parseTrace",value:function(t){for(var e,n=/^#(\d+)\s(?:(.*?)\((\d+)\)|(.*?)):\s(.*?)$/gm,r=[];null!==(e=n.exec(t));)e.index===n.lastIndex&&n.lastIndex++,r.push({line:e[3],file:e[2]||e[4],code:e[5]});return r}}]),t}()},function(t,e,n){"use strict";var r=n(11),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),c=n(3),f=n.n(c),l=n(2),h=n.n(l),p=n(4),d=n.n(p),y=n(17),v=n(22),g=n(39),_=n(54),b=n(26),m=n(24),w=n(37),k=n(30),x=n(75),O=n(7),E=n(8),j=n(74),P=n(35),T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warn";a()(this,t),this.logLevel=e}return s()(t,[{key:"getLogLevels",value:function(){return["debug","info","warn","error","none"]}},{key:"log",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"none"!==e&&this._shouldLog(e)&&console[e](t)}},{key:"debug",value:function(t){this.log(t,"debug")}},{key:"info",value:function(t){this.log(t,"info")}},{key:"warn",value:function(t){this.log(t,"warn")}},{key:"error",value:function(t){this.log(t,"error")}},{key:"_shouldLog",value:function(t){var e=this,n=this.getLogLevels();return n.findIndex(function(e){return e===t})>=n.findIndex(function(t){return t===e.logLevel})}},{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(t=t.toLowerCase(),!this.getLogLevels().includes(t))throw new TypeError("Expected one of ".concat(this.getLogLevels().join(", "),". Got ").concat(t));this._logLevel=t}}]),t}(),S=n(14),R=n(5),A=n(9);n.d(e,"default",function(){return N});var N=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _.default,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.maps4news.com";if(a()(this,e),t=f()(this,h()(e).call(this)),"string"==typeof n){var i=n;(n=new _.default).token=new m.default(i,"Bearer",new Date("2100-01-01T01:00:00"),["*"])}t.auth=n,t.host=r,t.autoLogout=!0;var o=function(t){return"true"===String(t).toLowerCase()};return t.defaults={cacheSeconds:Number("1800"),shareCache:o("true"),autoUpdateSharedCache:o("true"),dereferenceCache:o("false")},t._cache=new x.default(t.defaults.cacheSeconds,t.defaults.dereferenceCache),t._logger=new T("warn"),t}return d()(e,t),s()(e,[{key:"saveToken",value:function(t){this.auth.token.save(t)}},{key:"authenticate",value:function(){var t=this;return this.auth.authenticate().then(function(){return t})}},{key:"request",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.startsWith("http")||(t=t.replace(/(^\/+)/g,function(){return""}),t="".concat(this._host,"/").concat(this.version,"/").concat(t)),e=e.toUpperCase(),r instanceof A.Headers||(r=new A.Headers(r)),this.authenticated&&r.set("Authorization",this.auth.token.toString());var a=n instanceof A.FormData;"object"!==i()(n)||a?n&&r.has("Content-Type"):(n=JSON.stringify(n),r.has("Content-Type")||r.set("Content-Type","application/json")),r.has("Accept")||r.set("Accept","application/json"),["GET","HEAD"].includes(e)&&(n=void 0);var u={headers:r,method:e,redirect:"follow",mode:"cors"};return n&&(u.body=n),this._fetch(t,u,o)}},{key:"_fetch",value:function(t,e,n){var r=this;return Object(A.fetch)(t,e).then(function(i){var o=function(t){return n?{response:i,data:t}:t};if(429===i.status){var a=1e3*Number(i.headers.get("X-RateLimit-Reset"))-Date.now();return new Promise(function(i,o){setTimeout(function(){r._fetch(t,e,n).then(i).catch(o)},a)})}if(!i.ok)return i.json().then(function(t){throw r._parseErrorResponse(t,i.status)});if(i.headers.has("Content-Type")){var u=i.headers.get("Content-Type").toLowerCase();if(u.startsWith("text/"))return i.text().then(o);if("application/json"===u)return i.json().then(function(t){if("boolean"==typeof t.success&&!t.success)throw r._parseErrorResponse(t,i.status);return t}).then(function(t){return t.data?t.data:{}}).then(o)}return Object(S.isNode)()?i.buffer().then(o):i.blob().then(o)})}},{key:"_parseErrorResponse",value:function(t,e){var n=t.error;if(!n.validation_errors){var r=new v.default(n.type,n.message,e,n.trace);return"AuthenticationException"===r.type&&r.message.startsWith("Unauthenticated")&&401===r.code&&(this.logger.warn("Lost Maps4News session, please re-authenticate"),this.autoLogout&&this.logout()),r}return new g.default(n.type,n.message,e,n.validation_errors)}},{key:"static",value:function(t){if(Object(R.isParentOf)(E.default,t))return new w.default(this,t);var e=function(e){function n(){return a()(this,n),f()(this,h()(n).apply(this,arguments))}return d()(n,e),s()(n,[{key:"resourcePath",get:function(){return String(t)}}],[{key:"resourceName",get:function(){return"anonymous"}}]),n}(E.default);return Object.defineProperty(e,"name",{value:"AnonymousResource_".concat(Object(P.fnv32b)(String(t)))}),this.static(e)}},{key:"getSvgSetType",value:function(){return this.request("/svgs/sets/types").then(function(t){return new y.Enum(t,!0)})}},{key:"getFontStyles",value:function(){return this.request("/fonts/styles").then(function(t){return new y.Enum(t,!0)})}},{key:"logout",value:function(){this.auth.logout()}},{key:"version",get:function(){return"v1"}},{key:"cache",get:function(){return this._cache}},{key:"auth",get:function(){return this._auth},set:function(t){if(!Object(R.isParentOf)(b.default,t))throw new TypeError("auth must be an instance of OAuth");this._auth=t}},{key:"logger",get:function(){return this._logger}},{key:"authenticated",get:function(){return this.auth.authenticated}},{key:"host",get:function(){return this._host},set:function(t){t=t.replace(/\/+$/,""),this._host=t,this.auth.host=t}},{key:"choropleths",get:function(){return this.static(O.Choropleth)}},{key:"colors",get:function(){return this.static(O.Color)}},{key:"tags",get:function(){return this.static(O.Tag)}},{key:"contracts",get:function(){return this.static(O.Contract)}},{key:"dimensions",get:function(){return this.static(O.Dimension)}},{key:"dimensionSets",get:function(){return this.static(O.DimensionSet)}},{key:"faqs",get:function(){return this.static(O.Faq)}},{key:"features",get:function(){return this.static(O.Feature)}},{key:"featuredMaps",get:function(){return new k.default(this,O.Job,"/jobs/featured")}},{key:"fonts",get:function(){return this.static(O.Font)}},{key:"fontFamilies",get:function(){return this.static(O.FontFamily)}},{key:"highlights",get:function(){return this.static(O.Highlight)}},{key:"insetMaps",get:function(){return this.static(O.InsetMap)}},{key:"jobs",get:function(){return this.static(O.Job)}},{key:"jobShares",get:function(){return this.static(O.JobShare)}},{key:"jobTypes",get:function(){return this.static(O.JobType)}},{key:"languages",get:function(){return this.static(O.Language)}},{key:"layers",get:function(){return this.static(O.Layer)}},{key:"mapstyles",get:function(){return this.static(O.Mapstyle)}},{key:"mapstyleSets",get:function(){return this.static(O.MapstyleSet)}},{key:"notifications",get:function(){return this.static(O.Notification)}},{key:"organisations",get:function(){return this.static(O.Organisation)}},{key:"permissions",get:function(){return this.static(O.Permission)}},{key:"roles",get:function(){return this.static(O.Role)}},{key:"placeNames",get:function(){return this.static(O.PlaceName)}},{key:"svgs",get:function(){return this.static(O.Svg)}},{key:"svgSets",get:function(){return this.static(O.SvgSet)}},{key:"users",get:function(){return this.static(O.User)}},{key:"autoLogout",get:function(){return this._autoLogout},set:function(t){this._autoLogout=Boolean(t)}}]),e}(Object(R.mix)(null,j.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return c});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(18),s=n(9),c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:432e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(i()(this,t),this.scopes=o,this.token=e,this.type=n.toLowerCase().replace(/(\s|^)\w/g,function(t){return t.toUpperCase()}),"number"==typeof r)this.expires=new Date(Date.now()+1e3*r);else{if(!(r instanceof Date))throw new TypeError("Expires not of type Date or Number");this.expires=r}}return a()(t,[{key:"toString",value:function(){return"".concat(this.type," ").concat(this.token)}},{key:"toResponseObject",value:function(){return{access_token:this.token,token_type:this.type.toLowerCase(),expires_in:this.expires-Date.now(),scope:this.scopes}}},{key:"toQueryString",value:function(){return Object(s.encodeQueryString)(this.toResponseObject())}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.storageName,n={token:this.token,type:this.type,expires:this.expires.toUTCString(),scopes:this.scopes};u.default.secure.set(e,JSON.stringify(n),this.expires)}},{key:"expired",get:function(){return new Date>this.expires}}],[{key:"fromResponseObject",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var n=432e3;return void 0!==e.exipires_in?n=Number(e.expires_in):"string"==typeof e.expires&&(n=new Date(e.expires)),new t(e.access_token,e.token_type,n,e.scope||[])}},{key:"recover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.storageName,n=u.default.secure.get(e);if(!n)return null;var r=JSON.parse(n),i=new t(r.token,r.type,new Date(r.expires),r.scopes||[]);return i.expired?null:i}},{key:"storageName",get:function(){return"api_token"}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(15),d=n.n(p),y=n(12),v=n(5),g=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i()(this,e),n=s()(this,f()(e).call(this));var o=t instanceof Array;if(r&&!o)throw new TypeError('Expected enums to be of type "Array" got "'.concat(Object(v.getTypeName)(t),'"'));if(o&&r){var a=!0,u=!1,c=void 0;try{for(var l,h=t[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var p=l.value,g=Object(y.constant)(p);Object.defineProperty(d()(d()(n)),g,{enumerable:!0,value:p})}}catch(t){u=!0,c=t}finally{try{a||null==h.return||h.return()}finally{if(u)throw c}}}else if(o){var _=!0,b=!1,m=void 0;try{for(var w,k=t[Symbol.iterator]();!(_=(w=k.next()).done);_=!0){var x=w.value;Object.defineProperty(d()(d()(n)),x,{enumerable:!0,value:e._iota})}}catch(t){b=!0,m=t}finally{try{_||null==k.return||k.return()}finally{if(b)throw m}}}else for(var O=Object.keys(t),E=0;E<O.length;E++){var j=O[E],P={enumerable:!0};"function"==typeof t[j]?P.get=t[j]:P.value=t[j],Object.defineProperty(d()(d()(n)),j,P)}return Object.freeze(d()(d()(n))),n}return h()(e,t),a()(e,[{key:"keys",value:function(){return Object.keys(this)}},{key:"values",value:function(){var t=this;return this.keys().map(function(e){return t[e]}).filter(function(t,e,n){return n.indexOf(t)===e})}}],[{key:"_iota",get:function(){return e.__iota||(e.__iota=0),e.__iota++}}]),e}(n(70).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(19),i=n.n(r),o=n(33),a=n.n(o),u=n(0),s=n.n(u),c=n(1),f=n.n(c),l=n(10),h=n(22),p=n(20),d=n(18),y=n(24),v=n(57),g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"];if(s()(this,t),this.constructor===t)throw new l.AbstractClassError;this.clientId=String(e),this.scopes=n,this.token=null!==e?y.default.recover():null,this.host="https://api.maps4news.com",this.path="/"}return f()(t,[{key:"authenticate",value:function(){throw new l.AbstractMethodError}},{key:"forget",value:function(){v.default.clean(),d.default.secure.remove(y.default.storageName),this.token=null}},{key:"logout",value:function(){var t=a()(i.a.mark(function t(){var e,n,r,o,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.token){t.next=2;break}return t.abrupt("return");case 2:return e=this.host+"/oauth/logout",n={method:"POST",mode:"cors",redirect:"follow",headers:{Accept:"application/json",Authorization:this.token.toString()}},t.prev=4,t.next=7,fetch(e,n);case 7:return r=t.sent,t.next=10,r.text();case 10:if(o=t.sent,(a=JSON.parse(o)).success){t.next=14;break}throw new h.default(a.error.type,a.error.message,r.status);case 14:if(r.ok){t.next=16;break}throw new p.default("logout_fail","Logout failed:\n"+o);case 16:return t.prev=16,this.forget(),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,,16,19]])}));return function(){return t.apply(this,arguments)}}()},{key:"importToken",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:432e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.token=new y.default(t,e,n,r)}},{key:"authenticated",get:function(){return null!==this.token&&!this.token.expired}}]),t}()},function(t,e,n){var r=n(2),i=n(77),o=n(85),a=n(86);function u(e){var n="function"==typeof Map?new Map:void 0;return t.exports=u=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},u(e)}t.exports=u},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(10),d=n(6),y=n(12),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"items",get:function(){var t="".concat(this.url,"/items"),e={};return e[this.constructor.foreignKeyName]=this.id,this._proxyResourceList(this._Child,t,e)}},{key:"_Child",get:function(){throw new p.AbstractError}}],[{key:"foreignKeyName",get:function(){if(!this._fk){var t=this.name;t=Object(y.camel)(t),this._fk="".concat(t,"Id")}return this._fk}}]),e}(d.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"save",value:function(){throw new Error("Unsupported method JobShare::save")}},{key:"resourcePath",get:function(){return"/jobs/shares/{id}"}}],[{key:"visibility",get:function(){return d}},{key:"resourceName",get:function(){return"job-shares"}}]),e}(n(6).default),d=function(){function t(){i()(this,t)}return a()(t,null,[{key:"PRIVATE",get:function(){return"private"}},{key:"ORGANISATION",get:function(){return"organisation"}}]),t}()},function(t,e,n){"use strict";var r=n(11),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),c=n(23),f=n(75),l=n(35),h=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.api,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.defaults.shareCache;a()(this,t),this._api=r,this._shareCache=i,this._currentPage=1,this._context=[],this.data=[],this._localCache=new f.default(this.api.defaults.cacheSeconds,this.api.defaults.dereferenceCache),this._inflight=[],this._last=e,this._waiting=!1,this.on("invalidate",function(){return n.rebuild()}),this._promiseCallback(e)}return s()(t,[{key:"get",value:function(t){t instanceof Array?t.map(this.get):(this._waiting=!0,this._inflight.push(t),this._last.getPage(t).then(this._promiseCallback))}},{key:"next",value:function(){this.get(++this.currentPage)}},{key:"previous",value:function(){this.get(--this.currentPage)}},{key:"rebuild",value:function(){this.data=this.cache.resolve(this.route,this._last.cacheToken).filter(function(t){return void 0!==t}),this.cache.emitter.emit("post-rebuild",{resourceUrl:this._last.route})}},{key:"refresh",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.cache.clear(this.route),this.cache.collectPages(this.route,this._last.cacheToken).map(function(e){return t.get(e.page)})}},{key:"query",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||t===this.query())return this._last.query;this._context[this._last.cacheToken]=this._last;var e=Object(l.hashObject)(t);if(this._context[e])this._last=this._context[e];else{var n=this._last.parameters.copy();n.page=1,n.apply(t),this._last=new y(this.api,this._last.route,this._last.Target,n),this.get(n.page),this.currentPage=1}return this.rebuild(),this.query()}},{key:"on",value:function(t,e){var n=this;this.cache.emitter.on(t,function(r,i){"*"===t&&i.resourceUrl===n.route?e(r,i):"*"!==t&&r.resourceUrl===n.route&&e(r)})}},{key:"off",value:function(t,e){this.cache.emitter.off(t,e)}},{key:"_promiseCallback",get:function(){var t=this;return function(e){var n=t.query();t._last=e,t._query=n,t.cache.push(e);var r=t.inflight.findIndex(function(t){return t===e.page});r>=0&&t._inflight.splice(r,1),t._waiting=t.inflight.length>0,t.rebuild()}}},{key:"currentPage",get:function(){return this._currentPage},set:function(t){this._currentPage=Math.max(1,t)}},{key:"route",get:function(){return this._last.route},set:function(t){this._route=t}},{key:"rows",get:function(){return this._last.rows}},{key:"pageCount",get:function(){return this._last.pageCount}},{key:"api",get:function(){return this._api}},{key:"cache",get:function(){return this.shareCache?this.api.cache:this._localCache}},{key:"shareCache",get:function(){return this._shareCache},set:function(t){this._shareCache=Boolean(t)}},{key:"hasNext",get:function(){return 0===this.inflight.length?this._last.hasNext:this.currentPage<this.pageCount}},{key:"hasPrevious",get:function(){return this._last.hasPrevious}},{key:"inflight",get:function(){return this._inflight}},{key:"waiting",get:function(){return this._waiting}}]),t}(),p=n(21),d=n(5),y=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];if(a()(this,t),!Object(d.isParentOf)(c.default,e))throw new TypeError("Expected api to be of type Maps4News");Object(d.isParentOf)(p.default,i)||(i=new p.default(i)),this._api=e,this.route=n,this._Target=r,this._parameters=i,this._pageCount=o,this._rows=u,this._data=s}return s()(t,[{key:"getPage",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.perPage,i=this.parameters.copy();i.page=n,i.perPage=r;var o=this.route.includes("?")?"&":"?",a=this.route+o+i.encode();return this.api.request(a,"GET",{},{},!0).then(function(r){var i=r.response.headers,o=function(t,e){return i.has(t)?i.get(t):e},a=Number(o("X-Paginate-Total",r.data.length)),u=Number(o("X-Paginate-Pages",1)),s=e.parameters.copy();return s.page=n,new t(e.api,e.route,e._Target,s,u,a,r.data.map(function(t){return new e._Target(e.api,t)}))})}},{key:"next",value:function(){return this.getPage(this.page+1)}},{key:"previous",value:function(){return this.getPage(this.page-1)}},{key:"wrap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.api.defaults._shareCache;return new h(this,this.api,t)}},{key:"api",get:function(){return this._api}},{key:"route",get:function(){return this._route},set:function(t){t.startsWith("https://")||t.startsWith("http://")||(t.startsWith("/")||(t="/"+t),t="".concat(this._api.host,"/").concat(this._api.version).concat(t)),this._route=t}},{key:"Target",get:function(){return this._Target}},{key:"parameters",get:function(){return this._parameters},set:function(t){this._parameters=t}},{key:"page",get:function(){return this.parameters.page}},{key:"perPage",get:function(){return this.parameters.perPage}},{key:"sort",get:function(){return this.parameters.sort},set:function(t){this.parameters.sort=t}},{key:"deleted",get:function(){return this.parameters.deleted},set:function(t){this.parameters.deleted=t}},{key:"pageCount",get:function(){return this._pageCount}},{key:"data",get:function(){return this._data}},{key:"rows",get:function(){return this._rows}},{key:"query",get:function(){return this.parameters.search},set:function(t){this.parameters.search=t}},{key:"hasNext",get:function(){return this.page<this.pageCount}},{key:"hasPrevious",get:function(){return this.page>1}},{key:"cacheToken",get:function(){return this.parameters.token()}}]),t}(),v=n(58),g=n(8);n.d(e,"default",function(){return _});var _=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(a()(this,t),!Object(d.isParentOf)(g.default,n))throw new TypeError("Target is not a child of ResourceBase");if("function"!=typeof n)throw new TypeError("Target must to be a class not an instance");r&&(this.__baseUrl=r),this._api=e,this._Target=n,this._seedData=i}return s()(t,[{key:"new",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},this._seedData,t),new this.Target(this._api,t)}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._buildResolver(t);return e.getPage(e.page)}},{key:"listAndWrap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._buildResolver(t),n=e.wrap(e.page);return n.get(e.page),n}},{key:"lister",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new v.default(this.api,this.baseUrl,this.Target,t,e,this.Target.resourceUrlKey)}},{key:"_buildResolver",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i()(t),n=this.baseUrl;if(!["number","object"].includes(e))throw new TypeError('Expected params to be of type number or object. Got "'.concat(e,'"'));return"number"===e?this._buildResolver({page:t}):(t instanceof p.default||(t=new p.default(t)),new y(this._api,n,this.Target,t))}},{key:"baseUrl",get:function(){return this.__baseUrl||(this.__baseUrl=this.new().baseUrl),this.__baseUrl}},{key:"api",get:function(){return this._api}},{key:"Target",get:function(){return this._Target}},{key:"accessorName",get:function(){return this.Target.name.replace(/([A-Z])/g,function(t){return" "+t}).trim()}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(9),d=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"downloadOutput",value:function(){return Object(p.downloadFile)(this.outputUrl,this._getDownloadHeaders())}},{key:"getOutputUrl",value:function(){return this.api.request(this.outputUrlUrl).then(function(t){return t.url})}},{key:"downloadLog",value:function(){return Object(p.downloadFile)(this.logUrl,this._getDownloadHeaders()).then(function(t){return t.blob})}},{key:"downloadPreview",value:function(){return Object(p.downloadFile)("".concat(this.previewUrl),this._getDownloadHeaders()).then(function(t){return t.blob})}},{key:"_getDownloadHeaders",value:function(){return{Accept:"application/json",Authorization:this.api.auth.token.toString()}}},{key:"dealWith",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e?"POST":"DELETE";return this.api.request(this.url+"/deal-with",n).then(function(){return t.dealtWith=e,e})}},{key:"resourcePath",get:function(){return"/jobs/{job_id}/revisions/{revision}/result"}},{key:"job",get:function(){return this.api.jobs.get(this.jobId)}},{key:"jobRevision",get:function(){return this.api.jobs.select(this.jobId).revisions.get(this.id)}},{key:"outputUrl",get:function(){return"".concat(this.url,"/output")}},{key:"outputUrlUrl",get:function(){return"".concat(this.url,"/output-url")}},{key:"logUrl",get:function(){return"".concat(this.url,"/log")}},{key:"previewUrl",get:function(){return"".concat(this.url,"/preview")}}],[{key:"resourceName",get:function(){return"job-result"}}]),e}(n(8).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(76),d=n(13),y=n(5),v=n(6),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"layers"}}]),e}(Object(y.mix)(v.default,d.default,p.default))},function(t,e){function n(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(i,o){var a=t.apply(e,r);function u(t){n(a,i,o,u,s,"next",t)}function s(t){n(a,i,o,u,s,"throw",t)}u(void 0)})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=function(){function t(){i()(this,t)}return a()(t,[{key:"initializer",value:function(){}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"fnv32b",function(){return a}),n.d(e,"hashObject",function(){return u});var r=n(79),i=n.n(r),o=2166136261;function a(t){var e=t.split("").map(function(t){return t.charCodeAt(0)}).reduce(function(t,e){return(t^=e)+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)},o);return e^=e<<3,e+=e>>5,e^=e<<4,e+=e>>17,e^=e<<25,("0000000"+((e+=e>>6)>>>0).toString(16)).substr(-8)}function u(t){return a(i()(t))}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(10),s=function(){function t(){if(i()(this,t),this.constructor===t)throw new u.AbstractClassError;if(!this.constructor.available)throw new Error("".concat(this.constructor.name," is unavailable"))}return a()(t,[{key:"set",value:function(t,e){throw new u.AbstractMethodError}},{key:"get",value:function(t){throw new u.AbstractMethodError}},{key:"remove",value:function(t){throw new u.AbstractMethodError}},{key:"clear",value:function(){var t=this;this.keys().map(function(e){return t.remove(e)})}},{key:"keys",value:function(){throw new u.AbstractMethodError}}],[{key:"available",get:function(){throw new u.AbstractMethodError}},{key:"secure",get:function(){return!1}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return b});var r=n(52),i=n.n(r),o=n(11),a=n.n(o),u=n(0),s=n.n(u),c=n(1),f=n.n(c),l=n(3),h=n.n(l),p=n(2),d=n.n(p),y=n(4),v=n.n(y),g=n(21),_=n(9),b=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s()(this,e),h()(this,d()(e).call(this,t,n,r,i))}return v()(e,t),f()(e,[{key:"_parseSelector",value:function(t){if(""===t||null===t)return{};switch(a()(t)){case"number":case"string":return i()({},this.Target.resourceUrlKey,t);case"object":return t;default:return{}}}},{key:"get",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.default.deleted,r=Object.assign({},this._seedData,this._parseSelector(t)),i=this.new(r).url;return i+=(i.includes("?")?"&":"?")+Object(_.encodeQueryString)({deleted:n}),this._api.request(i).then(function(t){return e.new(t)})}},{key:"select",value:function(t){var e=Object.assign({},this._seedData,this._parseSelector(t));return this.new(e)}}]),e}(n(30).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(10),d=n(6),y=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i()(this,e),(n=s()(this,f()(e).call(this,t,r))).constructor===d.default)throw new p.AbstractClassError;return n}return h()(e,t),a()(e,[{key:"parentId",get:function(){return this.hasParent?Number(this[this.constructor.parentKey]):[][0]}}],[{key:"parentKey",get:function(){return this.resourceName.replace(/s$/,"_set_id")}}]),e}(d.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(t,n,r,o){var a;return i()(this,e),(a=s()(this,f()(e).call(this,t,n,r)))._validationErrors=o,a}return h()(e,t),a()(e,[{key:"toString",value:function(){var t=this,e=Object.keys(this.validationErrors).map(function(e){return t.validationErrors[e]});return"There were some validation errors: ".concat(e.join(" "))}},{key:"validationErrors",get:function(){return this._validationErrors}}]),e}(n(22).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return h});var r=n(0),i=n.n(r),o=n(3),a=n.n(o),u=n(2),s=n.n(u),c=n(4),f=n.n(c),l=n(27),h=function(t){function e(){return i()(this,e),a()(this,s()(e).apply(this,arguments))}return f()(e,t),e}(n.n(l)()(Error))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(6),d=n(13),y=n(5),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"colors"}}]),e}(Object(y.mix)(p.default,d.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(28),d=n(60),y=n(13),v=n(5),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"resourcePath",get:function(){return"/dimensions/sets/{id}"}},{key:"_Child",get:function(){return d.default}}],[{key:"resourceName",get:function(){return"dimension-sets"}}]),e}(Object(v.mix)(p.default,y.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(6),d=n(13),y=n(5),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"features"}}]),e}(Object(y.mix)(p.default,d.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(13),d=n(5),y=n(28),v=n(62),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"resourcePath",get:function(){return"/fonts/families/{id}"}},{key:"_Child",get:function(){return v.default}}],[{key:"resourceName",get:function(){return"font-families"}}]),e}(Object(d.mix)(y.default,p.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return _});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(37),d=n(9),y=n(6),v=n(31),g=n(63),_=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"downloadPreview",value:function(){return Object(d.downloadFile)("".concat(this.url,"/preview"),this._getDownloadHeaders()).then(function(t){return t.blob})}},{key:"downloadOutput",value:function(){return Object(d.downloadFile)("".concat(this.url,"/output"),this._getDownloadHeaders())}},{key:"getOutputUrl",value:function(){return this.api.request("".concat(this.url,"/output-url")).then(function(t){return t.url})}},{key:"_getDownloadHeaders",value:function(){return{Accept:"application/json",Authorization:this.api.auth.token.toString()}}},{key:"results",get:function(){return this._proxyResourceList(v.default,"".concat(this.url,"/results"))}},{key:"revisions",get:function(){var t={jobId:this.id};return new p.default(this.api,g.default,null,t)}},{key:"lastPreviewUrl",get:function(){return"".concat(this.url,"/preview")}},{key:"lastArchiveUrl",get:function(){return"".concat(this.url,"/revisions/last/result/archive")}}],[{key:"resourceName",get:function(){return"jobs"}}]),e}(y.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(6),d=n(13),y=n(5),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"resourcePath",get:function(){return"/jobs/types/{id}"}}],[{key:"resourceName",get:function(){return"job-types"}}]),e}(Object(y.mix)(p.default,d.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(13),d=n(5),y=n(28),v=n(64),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"resourcePath",get:function(){return"/mapstyles/sets/{id}"}},{key:"_Child",get:function(){return v.default}}],[{key:"resourceName",get:function(){return"mapstyle-sets"}}]),e}(Object(d.mix)(y.default,p.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(13),d=n(28),y=n(65),v=n(5),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"resourcePath",get:function(){return"/svgs/sets/{id}"}},{key:"_Child",get:function(){return y.default}}],[{key:"resourceName",get:function(){return"svg-sets"}}]),e}(Object(v.mix)(d.default,p.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return A});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(16),d=n(37),y=n(6),v=n(41),g=n(42),_=n(43),b=n(44),m=n(45),w=n(29),k=n(46),x=n(67),O=n(32),E=n(47),j=n(68),P=n(53),T=n(50),S=n(69),R=n(48),A=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"ips",value:function(){var t="".concat(this.url,"/ips");return this.api.request(t).then(function(t){return t.map(function(t){return t.ip_address})})}},{key:"organisation",value:function(){return new d.default(this.api,P.default).get(this.organisationId)}},{key:"language",value:function(){return new d.default(this.api,x.default).get(this.languageCode)}},{key:"notifications",get:function(){return this._proxyResourceList(j.default)}},{key:"mapstyleSets",get:function(){return this._proxyResourceList(E.default)}},{key:"dimensionSets",get:function(){return this._proxyResourceList(g.default)}},{key:"fontFamilies",get:function(){return this._proxyResourceList(b.default)}},{key:"svgSets",get:function(){return this._proxyResourceList(R.default)}},{key:"colors",get:function(){return this._proxyResourceList(v.default)}},{key:"jobs",get:function(){return this._proxyResourceList(m.default)}},{key:"features",get:function(){return this._proxyResourceList(_.default)}},{key:"layers",get:function(){return this._proxyResourceList(O.default)}},{key:"jobTypes",get:function(){return this._proxyResourceList(k.default)}},{key:"jobShares",get:function(){return this._proxyResourceList(w.default)}},{key:"permissions",get:function(){return this._proxyResourceList(T.default)}},{key:"roles",get:function(){return new p.default(this.api,this,S.default)}}],[{key:"resourceName",get:function(){return"users"}}]),e}(y.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"permissions"}}]),e}(n(8).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=n(0),i=n.n(r),o=n(40),a=function t(){throw i()(this,t),new o.default}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return L});var r=n(19),i=n.n(r),o=n(33),a=n.n(o),u=n(0),s=n.n(u),c=n(1),f=n.n(c),l=n(3),h=n.n(l),p=n(2),d=n.n(p),y=n(4),v=n.n(y),g=n(16),_=n(6),b=n(41),m=n(59),w=n(42),k=n(61),x=n(43),O=n(44),E=n(45),j=n(29),P=n(46),T=n(32),S=n(47),R=n(48),A=n(66),N=n(49),L=function(t){function e(){return s()(this,e),h()(this,d()(e).apply(this,arguments))}return v()(e,t),f()(e,[{key:"getTree",value:function(){var t=a()(i.a.mark(function t(){var e,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._api.request(this.url+"/tree");case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return n._parseTree(t)}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_parseTree",value:function(t){var e=this,n=new this.constructor(this._api,t);return n.children=n.children.map(function(t){return e._parseTree(t)}),n}},{key:"fontFamilies",get:function(){return new g.default(this.api,this,O.default)}},{key:"dimensionSets",get:function(){return new g.default(this.api,this,w.default)}},{key:"mapstyleSets",get:function(){return new g.default(this.api,this,S.default)}},{key:"svgSets",get:function(){return new g.default(this.api,this,R.default)}},{key:"colors",get:function(){return new g.default(this.api,this,b.default)}},{key:"tags",get:function(){return new g.default(this.api,this,A.default)}},{key:"features",get:function(){return new g.default(this.api,this,x.default)}},{key:"layers",get:function(){return new g.default(this.api,this,T.default)}},{key:"jobs",get:function(){return this._proxyBuilder(E.default)}},{key:"jobTypes",get:function(){return new g.default(this.api,this,P.default)}},{key:"jobShares",get:function(){return this._proxyResourceList(j.default)}},{key:"users",get:function(){return this._proxyResourceList(N.default)}},{key:"contracts",get:function(){return this._proxyResourceList(m.default)}},{key:"domains",get:function(){return this._proxyResourceList(k.default)}}],[{key:"resourceName",get:function(){return"organisations"}}]),e}(_.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(20),d=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"];return i()(this,e),s()(this,f()(e).call(this,t,n))}return h()(e,t),a()(e,[{key:"authenticate",value:function(){var t=this;return new Promise(function(e,n){t.authenticated?e(t.token):n(new p.default("dummy_error","Attempted authentication using a dummy authenticator"))})}}]),e}(n(26).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"getPaginatedRange",function(){return o}),n.d(e,"windowTest",function(){return a});var r=n(71),i=n.n(r);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(t instanceof Promise)return t.then(function(t){return o(t,e,n)});var r=t.data,a=[];return e=e||t.page,n=n||t.pageCount,e===t.page&&e++,new Promise(function(o,u){for(var s=e;s<=n;s++)a.push(t.get(s));Promise.all(a).then(function(t){o(r.concat.apply(r,i()(t.map(function(t){return t.data}))))},u)})}function a(t){return"undefined"!=typeof window&&void 0!==window[t]}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(81),h=n.n(l),p=n(4),d=n.n(p),y=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return d()(e,t),a()(e,[{key:"user",get:function(){return this.api.users.get(this.userId)}}],[{key:"_guessType",value:function(t,n){return["dealt_with","bought"].includes(t)?Boolean(n):h()(f()(e),"_guessType",this).call(this,t,n)}},{key:"resourceName",get:function(){return"job-monitor"}},{key:"readonly",get:function(){return!0}}]),e}(n(31).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(18),d=n(51),y=n(72),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"generate",value:function(){var t=y.default.uuid4(),n=e.prefix+t;return p.default.best.set(n,Date.now()),t}},{key:"validate",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=p.default.best,i=e.prefix+t,o=void 0!==r.get(i);return n&&o&&r.remove(i),o}},{key:"clean",value:function(){for(var t=Object.keys(this.list()),n=0;n<t.length;n++){var r=t[n];p.default.best.remove(e.prefix+r)}}},{key:"list",value:function(){var t=p.default.best;return t.keys().filter(function(t){return t.startsWith(e.prefix)}).map(function(t){return t.replace(e.prefix,"")}).reduce(function(e,n){return e[n]=t.get(n),e},{})}},{key:"prefix",get:function(){return"oauth_state_"}}]),e}(d.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return P});var r=n(11),i=n.n(r),o=n(71),a=n.n(o),u=n(19),s=n.n(u),c=n(33),f=n.n(c),l=n(0),h=n.n(l),p=n(1),d=n.n(p),y=n(3),v=n.n(y),g=n(2),_=n.n(g),b=n(4),m=n.n(b),w=n(12),k=n(73),x=n(23),O=n(21),E=n(8),j=n(5),P=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.default,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"id";if(h()(this,e),r=v()(this,_()(e).call(this)),!Object(j.isParentOf)(x.default,t))throw new TypeError("Expected api to be of type Maps4News");return r._api=t,r._Resource=i,r._route=n||new r.Resource(t,{}).baseUrl,r._parameters=new O.default(o||{perPage:O.default.maxPerPage}),r._key=Object(w.snake)(u),r._waiting=!1,r.autoUpdate=!0,r.maxRows=a,r._reset(),r}return m()(e,t),d()(e,[{key:"_reset",value:function(){this._parameterToken=this.parameters.token(),this._realData=[],this._data=[],this._keys=[],delete this._availableRows}},{key:"update",value:function(){var t=f()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:if(this._waiting=!0,t.prev=3,this._parameterToken!==this.parameters.token()&&this._reset(),!(this._realData.length<this.maxRows)){t.next=8;break}return t.next=8,this._fetchMore();case 8:this.data.length!==this.maxRows&&(this._data=this._realData.slice(0,this.maxRows));case 9:return t.prev=9,this._waiting=!1,t.finish(9);case 12:this.emit("update");case 13:case"end":return t.stop()}},t,this,[[3,,9,12]])}));return function(){return t.apply(this,arguments)}}()},{key:"_fetchMore",value:function(){var t=f()(s.a.mark(function t(){var e,n,r,i,o,u,c,f,l,h,p,d=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=1+Math.floor(this.rowCount/this.parameters.perPage),r=Math.ceil(this.maxRows/this.parameters.perPage),i=this.route.includes("?")?"&":"?",o=[],u=n;u<=r;u++)(c=this.parameters.copy()).page=u,f=this.route+i+c.encode(),l=this.api.request(f,"GET",{},{},!0),o.push(l);return t.next=7,Promise.all(o);case 7:h=t.sent,p=(e=[]).concat.apply(e,a()(h.map(function(t){return t.data}))),this._availableRows=Number(h[0].response.headers.get("X-Paginate-Total"))||0,p.forEach(function(t){return d.push(t,!1)});case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:Symbol.iterator,value:function(){return this.data[Symbol.iterator]()}},{key:"push",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(j.isParentOf)(this.Resource,t)||(t=new this.Resource(this.api,t));var r=this._keys.findIndex(function(n){return n===t[e._key]});r>=0?(this._realData[r]=t,void 0!==this._data[r]&&(this._data[r]=t)):(this._realData.push(t),this._keys.push(t[this._key]),n&&(this.maxRows++,this._data.push(t)))}},{key:"loadMore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parameters.perPage;this.maxRows+=t}},{key:"hasMore",get:function(){return void 0===this.availableRows||this.availableRows>this.maxRows}},{key:"waiting",get:function(){return this._waiting}},{key:"parameters",get:function(){return this._parameters},set:function(t){this.parameters.apply(t)}},{key:"Resource",get:function(){return this._Resource}},{key:"route",get:function(){return this._route}},{key:"data",get:function(){return this._data}},{key:"api",get:function(){return this._api}},{key:"rowCount",get:function(){return this.data.length}},{key:"maxRows",get:function(){return this._maxRows},set:function(t){if(t=Number(t),Number.isNaN(t))throw new TypeError("Expected maxRows to be numeric got ".concat("undefined"==typeof raw?"undefined":i()(raw)));this._maxRows=t,this.autoUpdate&&this.update()}},{key:"availableRows",get:function(){return this._availableRows}},{key:"autoUpdate",set:function(t){t=Boolean(t),this.autoUpdate!==t&&(this._autoUpdate=t,void 0===this._boundUpdate&&(this._boundUpdate=this.update.bind(this)),this.autoUpdate?this.parameters.on("change",this._boundUpdate):this.parameters.off("change",this._boundUpdate))},get:function(){return this._autoUpdate}}]),e}(k.EventEmitter)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"_update",value:function(){var t=this;if(this._updateProperties(),0===Object.keys(this._properties).length)return new Promise(function(){return t});var e=Object.assign({},this._properties);return void 0===e.date_start&&(e.date_start=this.dateStart),void 0===e.date_end&&(e.date_end=this.dateEnd),e.date_start instanceof Date&&(e.date_start=this._formatDate(e.date_start)),e.date_end instanceof Date&&(e.date_end=this._formatDate(e.date_end)),this.api.request(this.url,"PATCH",e).then(function(){return t.api.defaults.autoUpdateSharedCache&&t.api.cache.update(t),t})}},{key:"_create",value:function(){var t=this,e=this._buildCreateData();return e.date_start instanceof Date&&(e.date_start=this._formatDate(e.date_start)),e.date_end instanceof Date&&(e.date_end=this._formatDate(e.date_end)),this.api.request(this.baseUrl,"POST",e).then(function(e){return t._properties={},t._baseProperties=e,t._updateProperties(),t})}},{key:"_formatDate",value:function(t){var e=function(t){return("00"+t).slice(-Math.max(String(t).length,2))},n=[t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate()].map(e).join("-");return n+=" "+[t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()].map(e).join(":")}}],[{key:"resourceName",get:function(){return"contracts"}}]),e}(n(6).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"dimensions"}}]),e}(n(38).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"domains"}}]),e}(n(6).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"fonts"}},{key:"parentKey",get:function(){return"font_family_id"}}]),e}(n(38).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return _});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(5),d=n(6),y=n(31),v=n(29),g=n(32),_=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"result",value:function(){var t=this,e="".concat(this.url,"/result");return this.api.request(e).then(function(e){return e.jobId=t.jobId,e.revision=t.revision,new y.default(t.api,e)})}},{key:"save",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r&&r.length>0)if(Object(p.isParentOf)(g.default,r[0]))r=r.map(function(t){return t.id});else if("number"!=typeof r[0])throw new TypeError("layers property is not of type Array<Layer>, Array<Number> or null");var i={object:JSON.stringify(n),language_code:this.languageCode,mapstyle_set_id:this.mapstyleSetId};return r&&(i.layers=r),this.api.request(this.baseUrl,"POST",i).then(function(n){return new e(t.api,n)})}},{key:"object",value:function(){var t="".concat(this.url,"/object");return this.api.request(t)}},{key:"build",value:function(t){var e="".concat(this.url,"/build"),n={callback:t};return this.api.request(e,"POST",n)}},{key:"cancel",value:function(){var t="".concat(this.url,"/cancel");return this.api.request(t,"POST")}},{key:"share",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.default.visibility.PRIVATE;if((t=t.toLowerCase())!==v.default.visibility.ORGANISATION&&t!==v.default.visibility.PRIVATE)throw new Error("Unknown visibility '".concat(t,"'"));var e="".concat(this.url,"/share");return this.api.request(e,"POST",{visibility:t})}},{key:"clone",value:function(){var t="".concat(this.url,"/clone");return this.api.request(t,"POST")}},{key:"baseUrl",get:function(){return"/jobs/".concat(this.jobId,"/revisions")}},{key:"resourcePath",get:function(){return"/jobs/{job_id}/revisions/{revision}"}},{key:"layers",get:function(){return this._proxyResourceList(g.default)}},{key:"resultProxy",get:function(){var t={jobId:this.jobId,revision:this.revision};return new y.default(this.api,t)}}],[{key:"resourceName",get:function(){return"job-revisions"}},{key:"resourceUrlKey",get:function(){return"revision"}}]),e}(d.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(76),d=n(5),y=n(38),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"mapstyles"}}]),e}(Object(d.mix)(y.default,p.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"svgs"}}]),e}(n(38).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(6),d=n(13),y=n(5),v=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"tags"}}]),e}(Object(y.mix)(p.default,d.default))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.code,")")}},{key:"resourcePath",get:function(){return"/".concat(this.constructor.resourceName,"/{code}")}}],[{key:"resourceName",get:function(){return"languages"}},{key:"resourceUrlKey",get:function(){return"code"}}]),e}(n(6).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"resourceName",get:function(){return"notifications"}}]),e}(n(6).default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(16),d=n(6),y=n(50),v=n(49),g=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"permissions",get:function(){return new p.default(this.api,this,y.default)}},{key:"users",get:function(){return new p.default(this.api,this,v.default)}}],[{key:"resourceName",get:function(){return"roles"}}]),e}(d.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=function(){function t(){i()(this,t)}return a()(t,[{key:Symbol.toStringTag,get:function(){return"ObjectNoObserve"}}]),t}()},function(t,e,n){var r=n(89),i=n(90),o=n(91);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,null,[{key:"uuid4",value:function(){var t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}},{key:"nil",value:function(){return"0000000-0000-0000-0000-000000000000"}}]),e}(n(51).default)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,u,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,s=0;s<a;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,a,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(u=a;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return g});var r=n(52),i=n.n(r),o=n(0),a=n.n(o),u=n(1),s=n.n(u),c=n(3),f=n.n(c),l=n(2),h=n.n(l),p=n(4),d=n.n(p),y=n(8),v=n(5),g=function(t){function e(){return a()(this,e),f()(this,h()(e).apply(this,arguments))}return d()(e,t),s()(e,[{key:"initializer",value:function(){for(var t=this.constructor._injectable||{},e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],i=t[r],o=i.value;i.isProxy?this.injectProxy(r,o):this.inject(r,o)}}},{key:"injectProxy",value:function(t,e){if(e)Object(v.isParentOf)(y.default,e)?this._injectProxy(t,e):this._inject(t,e);else for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];this.injectProxy(i,t[i])}}},{key:"inject",value:function(t,e){this._inject(t,e,!1)}},{key:"_injectProxy",value:function(t,e){t===e.name&&(t=t.replace(/^\w/,function(t){return t.toLowerCase()})+"s");var r=n(13).default;if(Object(v.hasTrait)(e,r)){var i=n(16).default;this._inject(t,function(){new i(this.api,this,e)})}else if(Object(v.isParentOf)(y.default,e)&&this._proxyResourceList)this._inject(t,function(){return this._proxyResourceList(e)});else{var o=n(37).default;this._inject(t,function(){return new o(this,e)})}}},{key:"_inject",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.defineProperty(this,t,i()({enumerable:!1,configurable:!1},n?"get":"value",e))}}],[{key:"injectProxy",value:function(t,e){if(e)void 0===this._injectable&&(this._injectable={}),this._injectable[t]={value:e,isProxy:!0};else for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];this.inject(i,t[i])}}},{key:"inject",value:function(t,e){if(e)void 0===this._injectable&&(this._injectable={}),this._injectable[t]={value:e,isProxy:!1};else for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];this.inject(i,t[i])}}},{key:"uninject",value:function(t){void 0!==this._injectable&&delete this._injectable[t]}}]),e}(n(34).default)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l);var p=function(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).slice().map(function(t){t(n)}),(t["*"]||[]).slice().map(function(t){t(e,n)})}}},d=n(70),y=n(72);n.d(e,"default",function(){return v});var v=function(t){function e(t,n){var r;return i()(this,e),(r=s()(this,f()(e).call(this))).cacheTime=t,r.dereference=n,r.emitter=p(),r._storage={},r}return h()(e,t),a()(e,[{key:"push",value:function(t){var e=this;if(0!==t.rows){if(delete t.__ob__,t.data.map(function(t){return t.id}).filter(function(t){return"number"!=typeof t}).length>0)throw new TypeError('Missing or invalid row.id for page.data. Data rows must to contain a numeric "id" field.');var n=this._timestamp+this.cacheTime,r=y.default.uuid4(),i={page:t,validThrough:n,id:r,timeout:setTimeout(function(){return e._deleteCacheIds(r)},1e3*this.cacheTime)},o=this._storage[t.route]||(this._storage[t.route]={});(o[t.cacheToken]||(o[t.cacheToken]=[])).push(i),this.emitter.emit("push",{page:t,validThrough:n,resourceUrl:t.route}),this.emitter.emit("invalidate",{resourceUrl:t.route})}}},{key:"_deleteCacheIds",value:function(t){if(t instanceof Array){for(var e=0,n=Object.keys(this._storage),r=0;r<n.length;r++)for(var i=n[r],o=Object.keys(this._storage[i]),a=0;a<o.length;a++)for(var u=o[a],s=this._storage[i][u],c=0;c<s.length;c++)if(t.includes(s[c].id)&&(s.splice(c,1),c--,++e===t.length))return}else this._deleteCacheIds([t])}},{key:"revalidate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){if(this._storage[e]){var n=this._storage[e];Object.keys(n).forEach(function(e){n[e].filter(function(e){return e.validThrough<t._timestamp}).forEach(function(t){return clearTimeout(t.timeout)}),n[e]=n[e].filter(function(e){return e.validThrough>=t._timestamp})});var r=Object.keys(n).filter(function(t){return 0===n[t].length});r.forEach(function(t){return delete n[t]}),0===Object.keys(n).length&&delete this._storage[e],r.length>0&&this.emitter.emit("invalidate",{resourceUrl:e})}}else Object.keys(this._storage).map(function(e){return t.revalidate(e)})}},{key:"collectPages",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=e.toLowerCase(),((this._storage[t]||{})[e]||[]).sort(function(t,e){return t.page===e.page?t.validThrough-e.validThrough:t.page-e.page})}},{key:"clear",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?(delete this._storage[e],this.emitter.emit("invalidate",{resourceUrl:e})):(Object.keys(this._storage).forEach(function(e){t.emitter.emit("invalidate",{resourceUrl:e})}),this._storage={})}},{key:"resolve",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=e.toLowerCase();var n,r=this.collectPages(t,e),i=[],o=0,a=!0,u=!1,s=void 0;try{for(var c,f=r[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var l=c.value,h=l.page;if(0!==h.data.length){if(void 0!==n&&n===h.page){for(var p=void 0,d=0;d<h.data.length;d++)if(void 0===i[p=d+o])i.push(h.data[d]);else if(h.data[d].id!==i[p].id){i[p]=h.data[d];for(var y=0;y<o;y++)i[y].id===i[p].id&&(i.splice(y,1),o--,d--,p--,y--)}void 0!==p&&i.splice(p+1,i.length)}else o=i.length,h.data.map(function(t){return i.push(t)});n=l.page.page}}}catch(t){u=!0,s=t}finally{try{a||null==f.return||f.return()}finally{if(u)throw s}}return this.dereference?i.map(function(t){return t.clone()}):i}},{key:"update",value:function(t){if(t instanceof Array){var e={},n={},r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=s.constructor.name;(e[c]||(e[c]=[])).push(s),(n[c]||(n[c]=[])).push(s.id)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}for(var f=Object.keys(e),l=Object.keys(this._storage),h=0;h<l.length;h++){for(var p=l[h],d=!1,y=Object.keys(this._storage[p]),v=0;v<y.length;v++){var g=y[v],_=this._storage[p][g],b=!0,m=!1,w=void 0;try{for(var k,x=_[Symbol.iterator]();!(b=(k=x.next()).done);b=!0){var O=k.value.page;if(0!==O.data.length){var E=O.data[0].constructor.name;if(!f.includes(E))break;var j=!0,P=!1,T=void 0;try{for(var S,R=function(){var t=S.value;if(!n[E].includes(t.id))return"continue";var r=n[E].findIndex(function(e){return e===t.id}),i=e[E][r];i.sanitize(),i.fieldNames.forEach(function(e){t[e]=i[e]}),d=!0},A=O.data[Symbol.iterator]();!(j=(S=A.next()).done);j=!0)R()}catch(t){P=!0,T=t}finally{try{j||null==A.return||A.return()}finally{if(P)throw T}}}}}catch(t){m=!0,w=t}finally{try{b||null==x.return||x.return()}finally{if(m)throw w}}}d&&this.emitter.emit("invalidate",{resourceUrl:p})}}else this.update([t])}},{key:"_timestamp",get:function(){return Math.floor(Date.now()/1e3)}}]),e}(d.default)},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),u=n(3),s=n.n(u),c=n(2),f=n.n(c),l=n(4),h=n.n(l),p=n(34),d=n(19),y=n.n(d),v=n(33),g=n.n(v),_=n(23),b=n(8),m=n(14),w=n(5),k=n(9),x=function(){function t(e,n){if(i()(this,t),!Object(w.isParentOf)(_.default,e))throw new TypeError("Expected api to be of type Maps4News");if(!Object(w.isParentOf)(b.default,n))throw new TypeError("Expected target to be of type ResourceBase");this._api=e,this._target=n}return a()(t,[{key:"delete",value:function(){return this._api.request(this.url,"DELETE")}},{key:"download",value:function(){var t=g()(y.a.mark(function t(){var e;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.request("".concat(this.url));case 2:if(e=t.sent,!Object(m.isNode)()){t.next=5;break}return t.abrupt("return",e);case 5:return t.abrupt("return",(window.URL||window.webkitURL).createObjectURL(e));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"upload",value:function(t){var e=Object(m.isNode)()?Buffer:File;if(!Object(w.isParentOf)(e,t))throw new TypeError("Expected image to be of type File");var n=new k.FormData;return n.append("image",t),this.api.request(this.url,"POST",n)}},{key:"api",get:function(){return this._api}},{key:"url",get:function(){return"".concat(this._target.url,"/image")}}]),t}();n.d(e,"default",function(){return O});var O=function(t){function e(){return i()(this,e),s()(this,f()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"imageHandler",get:function(){return new x(this.api,this)}}]),e}(p.default)},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return FileDriver});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_utils_node__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(14),_DataStoreContract__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),FileDriver=function(_DataStoreContract){function FileDriver(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".m4n";return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,FileDriver),(t=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(FileDriver).call(this)))._path=e,t}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(FileDriver,_DataStoreContract),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FileDriver,[{key:"set",value:function(t,e){var n=this._read();n[t]=e,this._write(n)}},{key:"get",value:function(t){return this._read()[t]}},{key:"remove",value:function(t){var e=this._read();delete e[t],this._write(e)}},{key:"clear",value:function(){this._write({})}},{key:"keys",value:function(){return Object.keys(this._read())}},{key:"_read",value:function(){var t;try{t=this._fs.readFileSync(this.realPath).toString()}catch(e){t="{}"}return t?JSON.parse(t):{}}},{key:"_write",value:function(t){var e=JSON.stringify(t),n=this._fs.openSync(this.realPath,"w");this._fs.writeSync(n,e),this._fs.closeSync(n)}},{key:"path",get:function(){return this._path},set:function(t){if("string"!=typeof t)throw new TypeError('Expected "path" value to be of type "string"');this._path=t}},{key:"realPath",get:function(){return this.path.startsWith("/")?this.path:this._fs.realpathSync(this.path)}},{key:"_fs",get:function get(){return this.__fs||(this.__fs=eval('require("fs")')),this.__fs}}],[{key:"available",get:function(){return Object(_utils_node__WEBPACK_IMPORTED_MODULE_5__.isNode)()}},{key:"secure",get:function(){return!0}}]),FileDriver}(_DataStoreContract__WEBPACK_IMPORTED_MODULE_6__.default)},function(t,e,n){var r="undefined"!=typeof JSON?JSON:n(82);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof e.cycles&&e.cycles,u=e.replacer||function(t,e){return e},s=e.cmp&&function(t){return function(e){return function(n,r){var i={key:n,value:e[n]},o={key:r,value:e[r]};return t(i,o)}}}(e.cmp),c=[];return function t(e,f,l,h){var p=n?"\n"+new Array(h+1).join(n):"",d=n?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=u.call(e,f,l))){if("object"!=typeof l||null===l)return r.stringify(l);if(i(l)){for(var y=[],v=0;v<l.length;v++){var g=t(l,v,l[v],h+1)||r.stringify(null);y.push(p+n+g)}return"["+y.join(",")+p+"]"}if(-1!==c.indexOf(l)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(l);var _=o(l).sort(s&&s(l));for(y=[],v=0;v<_.length;v++){var b=t(l,f=_[v],l[f],h+1);if(b){var m=r.stringify(f)+d+b;y.push(p+n+m)}}return c.splice(c.indexOf(l),1),"{"+y.join(",")+p+"}"}}({"":t},"",t,0)};var i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n}},function(t,e,n){var r;!function(i){"use strict";function o(t){var e=t&&t.Promise||i.Promise,n=t&&t.XMLHttpRequest||i.XMLHttpRequest,r=i;return function(){var t=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(t){if(!t.fetch){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(t){return t&&DataView.prototype.isPrototypeOf(t)},a=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};h.prototype.append=function(t,e){t=c(t),e=f(e);var n=this.map[t];this.map[t]=n?n+","+e:e},h.prototype.delete=function(t){delete this.map[c(t)]},h.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},h.prototype.set=function(t,e){this.map[c(t)]=f(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),l(t)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},h.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),l(t)},r.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},g.call(_.prototype),g.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];m.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=h,t.Request=_,t.Response=m,t.fetch=function(t,i){return new e(function(e,o){var a=new _(t,i),u=new n;u.onload=function(){var t={status:u.status,statusText:u.statusText,headers:function(t){var e=new h;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}(u.getAllResponseHeaders()||"")};t.url="responseURL"in u?u.responseURL:t.headers.get("X-Request-URL");var n="response"in u?u.response:u.responseText;e(new m(n,t))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.open(a.method,a.url,!0),"include"===a.credentials&&(u.withCredentials=!0),"responseType"in u&&r.blob&&(u.responseType="blob"),a.headers.forEach(function(t,e){u.setRequestHeader(e,t)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})},t.fetch.polyfill=!0}function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function f(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(t){if(t.bodyUsed)return e.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new e(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function y(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(r.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(r.arrayBuffer&&r.blob&&o(t))this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!a(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return e.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return e.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||e.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=d(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return e.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return e.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(t,e){var n=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=function(t){var e=t.toUpperCase();return u.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}}(void 0!==t?t:this),{fetch:t.fetch,Headers:t.Headers,Request:t.Request,Response:t.Response}}()}void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)},function(t,e,n){n(2);var r=n(93);function i(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},function(t,e,n){e.parse=n(83),e.stringify=n(84)},function(t,e){var n,r,i,o,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(t){throw{name:"SyntaxError",message:t,at:n,text:i}},s=function(t){return t&&t!==r&&u("Expected '"+t+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},c=function(){var t,e="";for("-"===r&&(e="-",s("-"));r>="0"&&r<="9";)e+=r,s();if("."===r)for(e+=".";s()&&r>="0"&&r<="9";)e+=r;if("e"===r||"E"===r)for(e+=r,s(),"-"!==r&&"+"!==r||(e+=r,s());r>="0"&&r<="9";)e+=r,s();if(t=+e,isFinite(t))return t;u("Bad number")},f=function(){var t,e,n,i="";if('"'===r)for(;s();){if('"'===r)return s(),i;if("\\"===r)if(s(),"u"===r){for(n=0,e=0;e<4&&(t=parseInt(s(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if("string"!=typeof a[r])break;i+=a[r]}else i+=r}u("Bad string")},l=function(){for(;r&&r<=" ";)s()};o=function(){switch(l(),r){case"{":return function(){var t,e={};if("{"===r){if(s("{"),l(),"}"===r)return s("}"),e;for(;r;){if(t=f(),l(),s(":"),Object.hasOwnProperty.call(e,t)&&u('Duplicate key "'+t+'"'),e[t]=o(),l(),"}"===r)return s("}"),e;s(","),l()}}u("Bad object")}();case"[":return function(){var t=[];if("["===r){if(s("["),l(),"]"===r)return s("]"),t;for(;r;){if(t.push(o()),l(),"]"===r)return s("]"),t;s(","),l()}}u("Bad array")}();case'"':return f();case"-":return c();default:return r>="0"&&r<="9"?c():function(){switch(r){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}u("Unexpected '"+r+"'")}()}},t.exports=function(t,e){var a;return i=t,n=0,r=" ",a=o(),l(),r&&u("Syntax error"),"function"==typeof e?function t(n,r){var i,o,a=n[r];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=t(a,i))?a[i]=o:delete a[i]);return e.call(n,r,a)}({"":a},""):a}},function(t,e){var n,r,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(t){return o.lastIndex=0,o.test(t)?'"'+t.replace(o,function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}t.exports=function(t,e,o){var a;if(n="",r="","number"==typeof o)for(a=0;a<o;a+=1)r+=" ";else"string"==typeof o&&(r=o);if(i=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return function t(e,o){var a,s,c,f,l,h=n,p=o[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof i&&(p=i.call(o,e,p)),typeof p){case"string":return u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(n+=r,l=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,a=0;a<f;a+=1)l[a]=t(a,p)||"null";return c=0===l.length?"[]":n?"[\n"+n+l.join(",\n"+n)+"\n"+h+"]":"["+l.join(",")+"]",n=h,c}if(i&&"object"==typeof i)for(f=i.length,a=0;a<f;a+=1)"string"==typeof(s=i[a])&&(c=t(s,p))&&l.push(u(s)+(n?": ":":")+c);else for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(c=t(s,p))&&l.push(u(s)+(n?": ":":")+c);return c=0===l.length?"{}":n?"{\n"+n+l.join(",\n"+n)+"\n"+h+"}":"{"+l.join(",")+"}",n=h,c}}("",{"":t})}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){var r=n(77);function i(e,n,o){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=i=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o}:t.exports=i=Reflect.construct,i.apply(null,arguments)}t.exports=i},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(88),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=m;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",y={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(A([])));_&&_!==r&&i.call(_,a)&&(v=_);var b=O.prototype=k.prototype=Object.create(v);x.prototype=b.constructor=O,O.constructor=x,O[s]=x.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},f.awrap=function(t){return{__await:t}},E(j.prototype),j.prototype[u]=function(){return this},f.AsyncIterator=j,f.async=function(t,e,n,r){var i=new j(m(t,e,n,r));return f.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=A,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return u.type="throw",u.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}function m(t,e,n,r){var i=e&&e.prototype instanceof k?e:k,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=P(a,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=w(t,e,n);if("normal"===s.type){if(r=n.done?d:h,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function k(){}function x(){}function O(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function j(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var u=w(t[n],t,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){s.value=t,o(s)},function(t){return e("throw",t,o,a)})}a(u.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function P(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,y;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){!function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(){r=function(){},n.Symbol||(n.Symbol=o)}var i,o=function(){var t=0;return function(e){return"jscomp_symbol_"+(e||"")+t++}}();function a(){r();var t=n.Symbol.iterator;t||(t=n.Symbol.iterator=n.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&e(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return u(this)}}),a=function(){}}function u(t){var e=0;return function(t){return a(),(t={next:t})[n.Symbol.iterator]=function(){return this},t}(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function s(t){a(),r(),a();var e=t[Symbol.iterator];return e?e.call(t):u(t)}if("function"==typeof Object.setPrototypeOf)i=Object.setPrototypeOf;else{var c;t:{var f={};try{f.__proto__={o:!0},c=f.o;break t}catch(t){}c=!1}i=c?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var l=i;function h(){this.g=!1,this.c=null,this.m=void 0,this.b=1,this.l=this.s=0,this.f=null}function p(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function d(t,e,n){return t.b=n,{value:e}}function y(t){this.a=new h,this.A=t}function v(t,e,n,r){try{var i=e.call(t.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.g=!1,i;var o=i.value}catch(e){return t.a.c=null,t.a.i(e),g(t)}return t.a.c=null,r.call(t.a,o),g(t)}function g(t){for(;t.a.b;)try{var e=t.A(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.m=void 0,t.a.i(e)}if(t.a.g=!1,t.a.f){if(e=t.a.f,t.a.f=null,e.v)throw e.u;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function _(t){this.next=function(e){return t.h(e)},this.throw=function(e){return t.i(e)},this.return=function(e){return function(t,e){p(t.a);var n=t.a.c;return n?v(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),g(t))}(t,e)},a(),r(),a(),this[Symbol.iterator]=function(){return this}}function b(t,e){var n=new _(new y(e));return l&&l(n,t.prototype),n}if(h.prototype.h=function(t){this.m=t},h.prototype.i=function(t){this.f={u:t,v:!0},this.b=this.s||this.l},h.prototype.return=function(t){this.f={return:t},this.b=this.l},y.prototype.h=function(t){return p(this.a),this.a.c?v(this,this.a.c.next,t,this.a.h):(this.a.h(t),g(this))},y.prototype.i=function(t){return p(this.a),this.a.c?v(this,this.a.c.throw,t,this.a.h):(this.a.i(t),g(this))},"undefined"==typeof FormData||!FormData.prototype.keys){var m=function(t,e,n){if(2>arguments.length)throw new TypeError("2 arguments required, but only "+arguments.length+" present.");return e instanceof Blob?[t+"",e,void 0!==n?n+"":"string"==typeof e.name?e.name:"blob"]:[t+"",e+""]},w=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");return[t+""]},k=function(t){var e=s(t);return t=e.next().value,e=e.next().value,t instanceof Blob&&(t=new File([t],e,{type:t.type,lastModified:t.lastModified})),t},x="object"==typeof window?window:"object"==typeof self?self:this,O=x.FormData,E=x.XMLHttpRequest&&x.XMLHttpRequest.prototype.send,j=x.Request&&x.fetch;r();var P=x.Symbol&&Symbol.toStringTag,T=new WeakMap,S=Array.from||function(t){return[].slice.call(t)};P&&(Blob.prototype[P]||(Blob.prototype[P]="Blob"),"File"in x&&!File.prototype[P]&&(File.prototype[P]="File"));try{new File([],"")}catch(t){x.File=function(t,e,n){return t=new Blob(t,n),n=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date,Object.defineProperties(t,{name:{value:e},lastModifiedDate:{value:n},lastModified:{value:+n},toString:{value:function(){return"[object File]"}}}),P&&Object.defineProperty(t,P,{value:"File"}),t}}var R=function(t){if(T.set(this,Object.create(null)),!t)return this;for(var e=(t=s(S(t.elements))).next();!e.done;e=t.next())if((e=e.value).name&&!e.disabled)if("file"===e.type)for(var n=s(S(e.files||[])),r=n.next();!r.done;r=n.next())this.append(e.name,r.value);else if("select-multiple"===e.type||"select-one"===e.type)for(r=(n=s(S(e.options))).next();!r.done;r=n.next())!(r=r.value).disabled&&r.selected&&this.append(e.name,r.value);else"checkbox"===e.type||"radio"===e.type?e.checked&&this.append(e.name,e.value):this.append(e.name,e.value)};if((t=R.prototype).append=function(t,e,n){var r=T.get(this);r[t]||(r[t]=[]),r[t].push([e,n])},t.delete=function(t){delete T.get(this)[t]},t.entries=function t(){var e,n,r,i,o,a,u=this;return b(t,function(t){switch(t.b){case 1:e=T.get(u),r=new function(t){for(var e in this.w=t,this.j=[],t)this.j.push(e);this.j.reverse()}(e);case 2:var c;t:{for(c=r;0<c.j.length;){var f=c.j.pop();if(f in c.w){c=f;break t}}c=null}if(null==(n=c)){t.b=0;break}i=s(e[n]),o=i.next();case 5:if(o.done){t.b=2;break}return a=o.value,d(t,[n,k(a)],6);case 6:o=i.next(),t.b=5}})},t.forEach=function(t,e){for(var n=s(this),r=n.next();!r.done;r=n.next()){var i=s(r.value);r=i.next().value,i=i.next().value,t.call(e,i,r,this)}},t.get=function(t){var e=T.get(this);return e[t]?k(e[t][0]):null},t.getAll=function(t){return(T.get(this)[t]||[]).map(k)},t.has=function(t){return t in T.get(this)},t.keys=function t(){var e,n,r,i,o=this;return b(t,function(t){if(1==t.b&&(e=s(o),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,i=s(r),d(t,i.next().value,3));n=e.next(),t.b=2})},t.set=function(t,e,n){T.get(this)[t]=[[e,n]]},t.values=function t(){var e,n,r,i,o=this;return b(t,function(t){if(1==t.b&&(e=s(o),n=e.next()),3!=t.b)return n.done?void(t.b=0):(r=n.value,(i=s(r)).next(),d(t,i.next().value,3));n=e.next(),t.b=2})},R.prototype._asNative=function(){for(var t=new O,e=s(this),n=e.next();!n.done;n=e.next()){var r=s(n.value);n=r.next().value,r=r.next().value,t.append(n,r)}return t},R.prototype._blob=function(){for(var t="----formdata-polyfill-"+Math.random(),e=[],n=s(this),r=n.next();!r.done;r=n.next()){var i=s(r.value);r=i.next().value,i=i.next().value,e.push("--"+t+"\r\n"),i instanceof Blob?e.push('Content-Disposition: form-data; name="'+r+'"; filename="'+i.name+'"\r\n',"Content-Type: "+(i.type||"application/octet-stream")+"\r\n\r\n",i,"\r\n"):e.push('Content-Disposition: form-data; name="'+r+'"\r\n\r\n'+i+"\r\n")}return e.push("--"+t+"--"),new Blob(e,{type:"multipart/form-data; boundary="+t})},r(),a(),R.prototype[Symbol.iterator]=function(){return this.entries()},R.prototype.toString=function(){return"[object FormData]"},P&&(R.prototype[P]="FormData"),[["append",m],["delete",w],["get",w],["getAll",w],["has",w],["set",m]].forEach(function(t){var e=R.prototype[t[0]];R.prototype[t[0]]=function(){return e.apply(this,t[1].apply(this,S(arguments)))}}),E&&(XMLHttpRequest.prototype.send=function(t){t instanceof R?(t=t._blob(),this.setRequestHeader("Content-Type",t.type),E.call(this,t)):E.call(this,t)}),j){var A=x.fetch;x.fetch=function(t,e){return e&&e.body&&e.body instanceof R&&(e.body=e.body._blob()),A(t,e)}}x.FormData=R}}()},function(t,e,n){var r=n(2);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"AbstractError",function(){return L.AbstractError}),n.d(r,"AbstractClassError",function(){return L.AbstractClassError}),n.d(r,"AbstractMethodError",function(){return L.AbstractMethodError}),n.d(r,"ApiError",function(){return N.default}),n.d(r,"NodeError",function(){return q}),n.d(r,"OAuthError",function(){return j.default}),n.d(r,"StaticClassError",function(){return D.default}),n.d(r,"UnsupportedCrudError",function(){return H}),n.d(r,"ValidationError",function(){return C.default});var i=n(23),o=n(21),a=n(18),u=n(0),s=n.n(u),c=n(1),f=n.n(c),l=n(17),h=n(56),p=n(5),d=n(9),y=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number("100"),r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(s()(this,t),!Object(p.isParentOf)(i.default,e))throw new TypeError("Expected api to be of type Maps4News");this._api=e,this._maxAvailible={},this._maxRows=Math.max(1,Number(n)),this._longPoll=Boolean(r),this._lastUpdate=this._getTimestamp(),this._data=[],this._filterStatus=l.JobMonitorFilter.DEFAULT,this._filterTags=[],this._purge=!1,this._skipMaxUpdate=!1}return f()(t,[{key:"loadMore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.maxRows+=t,this.update()}},{key:"update",value:function(){var t=this;if(this.waiting||this._lastUpdate===this._getTimestamp())return new Promise(function(t){t(0)});this._waiting=1,this._purge&&(this._data=[],this._purge=!1);var e=Math.min(this.maxRows,this.realMaxRows)-this.data.length;e<0&&(this._data.splice(this.maxRows,this.data.length-this.maxRows),e=0);for(var n=0,r=[],i=e>0;e>0;){var o=Math.floor((this.data.length+n)/50)+1;this.api.logger.debug("[JobMonitor] have ".concat(this.data.length+n,", Diff: ").concat(e,",")+"PerPage: ".concat(50,", Page: ").concat(o,", Target: ").concat(50*o));var a={per_page:50,page:o};this.filterTags.length>0&&(a.tags=this.filterTags);var u=this._baseUrl+"&"+Object(d.encodeQueryString)(a);r.push(this.api.request(u).then(function(e){return e.map(function(e){return new h.default(t.api,e)})})),n+=50,e-=50,this._waiting++}var s=[];s.push(Promise.all(r).then(function(e){e=e.reduce(function(t,e){return t.concat(e)},[]),t._data=t.data.concat(e);var n=t.data.length;return t._data=t.data.filter(function(t,e,n){return e===n.findIndex(function(e){return e.id===t.id})}),t._waiting-=r.length,e.length-(n-t.data.length)}));var c=this._baseUrl+"&timestamp="+Math.floor(this._lastUpdate);return this.longPoll&&!i&&(c+="&long_poll"),this._lastUpdate=this._getTimestamp(),s.push(this.api.request(c).then(function(e){return e.map(function(e){return new h.default(t.api,e)})}).then(function(e){for(var n=e.map(function(t){return t.id}),r=0,i=0;i<t._data.length&&n.length>0;i++){var o=n.indexOf(t._data[i].id);-1!==o&&(t._data[i]=e[o],e.splice(o,1),n.splice(o,1),r++)}return t._data=e.concat(t._data),t._waiting--,r})),Promise.all(s).then(function(t){return t.reduce(function(t,e){return t+e},0)}).then(function(e){var n=t.data.length-t.maxRows;return t._data.splice(t.maxRows,t.data.length-t.maxRows),t._skipMaxUpdate||(t._maxAvailible[t._baseUrl]=t.data.length),t.api.logger.debug("Target: ".concat(t.maxRows,", Actual: ").concat(t.data.length,", Updated: ").concat(e,", Dropped: ").concat(n,", RealMax: ").concat(t.realMaxRows)),t._skipMaxUpdate=!1,e}).catch(function(e){throw t._waiting=0,e})}},{key:"_getTimestamp",value:function(){return Date.now()/1e3}},{key:"data",get:function(){return this._data}},{key:"api",get:function(){return this._api}},{key:"waiting",get:function(){return this._waiting>0}},{key:"maxRows",get:function(){return this._maxRows||Number("100")||100},set:function(t){t=Number(t),t=Math.max(1,t),this.api.logger.debug("Setting maxRows to ".concat(t,". skipping maxUpdate next cycle.")),this._skipMaxUpdate=!0,this._maxAvailible[this._baseUrl]=t,this._maxRows=t}},{key:"realMaxRows",get:function(){return this._maxAvailible[this._baseUrl]||this.maxRows}},{key:"_baseUrl",get:function(){return"/jobs/monitor/".concat(this.filterStatus,"?internal=").concat(!this.hideInternal)}},{key:"hideInternal",set:function(t){t=Boolean(t),this._hideInternal!==t&&(this._purge=!0),this._hideInternal=t},get:function(){return this._hideInternal||!1}},{key:"filterStatus",set:function(t){if(t=t.toLowerCase(),!l.JobMonitorFilter.values().includes(t))throw new TypeError("Expected value to be property of JobMonitorFilter. Possible options: "+l.JobMonitorFilter.values().join(", "));this._filterStatus!==t&&(this._purge=!0),this._filterStatus=t},get:function(){return this._filterStatus}},{key:"filterTags",set:function(t){if(Array.isArray("array")){var e=t.toString();throw null!==e&&void 0!==t&&(e=t.constructor.name),new TypeError("Expected value to be of type array got ".concat(e,"."))}this._filterTags=t},get:function(){return this._filterTags}},{key:"lastUpdate",get:function(){return new Date(1e3*this._lastUpdate)}},{key:"longPoll",get:function(){return this._longPoll},set:function(t){this._longPoll=Boolean(t)}}]),t}(),v=n(25),g=n(26),_=n(3),b=n.n(_),m=n(2),w=n.n(m),k=n(4),x=n.n(k),O=n(24),E=n(57),j=n(20),P=n(14),T=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(s()(this,e),n=b()(this,w()(e).call(this,t,i)),Object(P.isNode)())throw new Error("".concat(n.constructor.name," can't be used under nodejs"));if(n.path="/oauth/authorize",n.callbackUrl=r,n.useState=o,n.callbackUrl||(n.callbackUrl=window.location.toString().split("#")[0]),n._anchorParams=["access_token","token_type","expires_in"],n.useState&&n._anchorParams.push("state"),n._anchorContainsOAuthResponse()){var a=n._getOAuthAnchorParams();if(n._cleanAnchorParams(),n.useState&&!E.default.validate(a.state))throw Error("Invalid state in url");n.token=O.default.fromResponseObject(a)}return n}return x()(e,t),f()(e,[{key:"authenticate",value:function(){var t=this;return new Promise(function(e,n){if(t.authenticated)e(t.token);else if(t._anchorContainsError()){var r=t._getError();t._cleanAnchorParams(),n(r)}else window.location=t._buildRedirectUrl()})}},{key:"_buildRedirectUrl",value:function(){var t={client_id:this.clientId,redirect_uri:this.callbackUrl,response_type:"token",scope:this.scopes.join(" ")};return this.useState&&(t.state=E.default.generate()),"".concat(this.host+this.path,"?").concat(Object(d.encodeQueryString)(t))}},{key:"_getAnchorParams",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hash,e={};t=t.replace(/^#\/?/g,"");var n=!0,r=!1,i=void 0;try{for(var o,a=t.split("&")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value.split("=").map(decodeURIComponent);e[u[0]]=u[1]}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}},{key:"_getOAuthAnchorParams",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getAnchorParams();return Object.keys(e).filter(function(e){return t._anchorParams.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},{})}},{key:"_cleanAnchorParams",value:function(){var t=this._getAnchorParams(),e=this._anchorParams;e.push("state","error");var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){delete t[o.value]}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}window.location.hash=Object(d.encodeQueryString)(t)}},{key:"_anchorContainsOAuthResponse",value:function(){var t=Object.keys(this._getOAuthAnchorParams());return this._anchorParams.reduce(function(e,n){return e&&t.includes(n)},!0)}},{key:"_anchorContainsError",value:function(){return Boolean(this._getAnchorParams().error)}},{key:"_getError",value:function(){if(!this._anchorContainsError())throw Error("No OAuthError found in anchor");var t=this._getAnchorParams();return new j.default(t.error,t.message)}}]),e}(g.default),S=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["*"],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width=800, height=600";if(s()(this,e),(n=b()(this,w()(e).call(this,t,r,i,o))).windowOptions=u,n._storage=a.default.best,window.name===e.popupWindowName)throw new Error("We're a flow popup");return n}return x()(e,t),f()(e,[{key:"authenticate",value:function(){var t=this;return window.name===e.popupWindowName?new Promise(function(){}):this.authenticated?new Promise(function(e){e(t.token)}):new Promise(function(n,r){var i=window.open(t._buildRedirectUrl(),e.popupWindowName,t.windowOptions),o=setInterval(function(){i.closed&&r(new j.default("window_closed","Pop-up window was closed before data could be extracted"));var e=!1;try{e=!["","about:blank"].includes(i.location.href)}catch(t){}if(e){clearInterval(o);var a=t._getAnchorParams(i.location.hash);i.close(),a.error?r(new j.default(a.error,a.message)):n(t.token=O.default.fromResponseObject(a))}},250)})}}],[{key:"popupWindowName",get:function(){return"m4n_api_auth"}}]),e}(T),R=function(t){function e(t,n,r,i){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["*"];return s()(this,e),(o=b()(this,w()(e).call(this,t,a)))._secret=n,o._username=r,o._password=i,o._path="/oauth/token",Object(P.isNode)()||(console.warn("Using PasswordFlow in the browser is unrecommended. More information: https://nnmm.nl/?MXF"),"https:"!==window.location.protocol&&console.warn("Page was not loaded using https. You're most likely leaking secrets right now")),o}return x()(e,t),f()(e,[{key:"authenticate",value:function(){var t=this,e=this.host+this.path,n={grant_type:"password",client_id:this.clientId,client_secret:this._secret,username:this.username,password:this.password,scope:this.scopes.join(" ")},r={method:"POST",body:Object(d.encodeQueryString)(n),mode:"cors",redirect:"follow",headers:{"Content-Type":"application/x-www-form-urlencoded"}};return Object(d.fetch)(e,r).then(function(t){return t.json()}).then(function(e){if(e.error)throw new j.default(e.error,e.message);return t.token=O.default.fromResponseObject(e),t.token.scopes=t.scopes,t.token})}},{key:"secret",get:function(){return this._secret},set:function(t){this._secret=t}},{key:"username",get:function(){return this._username},set:function(t){this._username=t}},{key:"password",get:function(){return this._password},set:function(t){this._password=t}},{key:"path",get:function(){return this._path},set:function(t){this._path=t}}]),e}(g.default),A=n(54),N=n(22),L=n(10),C=n(39),D=n(40),U=n(7),I=n(55),M=n(58),F=n(27),B=n.n(F),q=function(t){function e(){return s()(this,e),b()(this,w()(e).apply(this,arguments))}return x()(e,t),e}(B()(Error)),H=function(t){function e(){return s()(this,e),b()(this,w()(e).apply(this,arguments))}return x()(e,t),e}(B()(Error));n.d(e,"version",function(){return W}),n.d(e,"license",function(){return J}),n.d(e,"Maps4News",function(){return i.default}),n.d(e,"RequestParameters",function(){return o.default}),n.d(e,"StorageManager",function(){return a.default}),n.d(e,"JobMonitor",function(){return y}),n.d(e,"Enum",function(){return v.default}),n.d(e,"DeletedState",function(){return l.DeletedState}),n.d(e,"JobMonitorFilter",function(){return l.JobMonitorFilter}),n.d(e,"ResultStatus",function(){return l.ResultStatus}),n.d(e,"OAuth",function(){return g.default}),n.d(e,"ImplicitFlow",function(){return T}),n.d(e,"ImplicitFlowPopup",function(){return S}),n.d(e,"PasswordFlow",function(){return R}),n.d(e,"DummyFlow",function(){return A.default}),n.d(e,"ApiError",function(){return N.default}),n.d(e,"AbstractError",function(){return L.AbstractError}),n.d(e,"AbstractClassError",function(){return L.AbstractClassError}),n.d(e,"AbstractMethodError",function(){return L.AbstractMethodError}),n.d(e,"ValidationError",function(){return C.default}),n.d(e,"StaticClassError",function(){return D.default}),n.d(e,"resources",function(){return U}),n.d(e,"helpers",function(){return I}),n.d(e,"ResourceLister",function(){return M.default}),n.d(e,"errors",function(){return r}),n.d(e,"reflection",function(){return p});var W="v1.4.43",J='BSD 3-Clause License\n\nCopyright (c) 2017, MapCreator\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n'}])});